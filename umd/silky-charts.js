!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("d3-axis"),require("d3-scale"),require("d3-selection"),require("d3-time-format"),require("ramda/src/identity"),require("react-dom"),require("d3-shape"),require("ramda/src/compose"),require("ramda/src/groupBy"),require("ramda/src/prop"),require("ramda/src/toPairs"),require("ramda/src/head"),require("ramda/src/max"),require("ramda/src/min"),require("ramda/src/find"),require("ramda/src/filter"),require("ramda/src/sum"),require("ramda/src/map"),require("ramda/src/reduce"),require("ramda/src/values"),require("ramda/src/uniq"),require("ramda/src/always"),require("ramda/src/complement"),require("ramda/src/addIndex"),require("ramda/src/mergeAll"),require("ramda/src/cond"),require("ramda/src/equals"),require("ramda/src/T"),require("ramda/src/flatten"),require("ramda/src/sortBy"),require("ramda/src/splitEvery"),require("styled-components"),require("ramda/src/last")):"function"==typeof define&&define.amd?define(["exports","react","d3-axis","d3-scale","d3-selection","d3-time-format","ramda/src/identity","react-dom","d3-shape","ramda/src/compose","ramda/src/groupBy","ramda/src/prop","ramda/src/toPairs","ramda/src/head","ramda/src/max","ramda/src/min","ramda/src/find","ramda/src/filter","ramda/src/sum","ramda/src/map","ramda/src/reduce","ramda/src/values","ramda/src/uniq","ramda/src/always","ramda/src/complement","ramda/src/addIndex","ramda/src/mergeAll","ramda/src/cond","ramda/src/equals","ramda/src/T","ramda/src/flatten","ramda/src/sortBy","ramda/src/splitEvery","styled-components","ramda/src/last"],t):t((e=e||self).silkyCharts={},e.React,e.d3Axis,e.d3Scale,e.d3Selection,e.d3TimeFormat,e.identity,e.ReactDOM,e.d3Shape,e.compose,e.groupBy,e.prop,e.toPairs,e.head,e.max,e.min,e.find,e.filter,e.sum,e.map,e.reduce,e.values,e.uniq,e.always,e.complement,e.addIndex,e.mergeAll,e.cond,e.equals,e.T,e.flatten,e.sortBy,e.splitEvery,e.styled,e.last)}(this,function(e,t,r,n,a,i,o,u,c,l,s,d,f,m,h,v,p,g,y,x,w,b,E,k,C,S,O,P,L,M,q,A,z,T,R){"use strict";var B="default"in t?t.default:t;function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){N(e,t,r[t])})}return e}function Y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o=o&&o.hasOwnProperty("default")?o.default:o,l=l&&l.hasOwnProperty("default")?l.default:l,s=s&&s.hasOwnProperty("default")?s.default:s,d=d&&d.hasOwnProperty("default")?d.default:d,f=f&&f.hasOwnProperty("default")?f.default:f,m=m&&m.hasOwnProperty("default")?m.default:m,h=h&&h.hasOwnProperty("default")?h.default:h,v=v&&v.hasOwnProperty("default")?v.default:v,p=p&&p.hasOwnProperty("default")?p.default:p,g=g&&g.hasOwnProperty("default")?g.default:g,y=y&&y.hasOwnProperty("default")?y.default:y,x=x&&x.hasOwnProperty("default")?x.default:x,w=w&&w.hasOwnProperty("default")?w.default:w,b=b&&b.hasOwnProperty("default")?b.default:b,E=E&&E.hasOwnProperty("default")?E.default:E,k=k&&k.hasOwnProperty("default")?k.default:k,C=C&&C.hasOwnProperty("default")?C.default:C,S=S&&S.hasOwnProperty("default")?S.default:S,O=O&&O.hasOwnProperty("default")?O.default:O,P=P&&P.hasOwnProperty("default")?P.default:P,L=L&&L.hasOwnProperty("default")?L.default:L,M=M&&M.hasOwnProperty("default")?M.default:M,q=q&&q.hasOwnProperty("default")?q.default:q,A=A&&A.hasOwnProperty("default")?A.default:A,z=z&&z.hasOwnProperty("default")?z.default:z,T=T&&T.hasOwnProperty("default")?T.default:T,R=R&&R.hasOwnProperty("default")?R.default:R;var I=t.createContext(),V=0,W=function(e){return c.stack().keys(e).order(c.stackOrderNone).offset(c.stackOffsetNone)},G=l(f,s(d("series"))),H=function(e){return e.replace(/ /g,"-").toLowerCase()},_=function(e,t,n,a,i,o,u){return e?r.axisBottom().scale(t).tickSize(n,0,0).ticks(o).tickFormat(""):r.axisLeft().scale(a).tickSize(-i,0,0).ticks(u).tickFormat("")},J="rgb(255, 255, 255)",K="rgb(232, 232, 232)",Q={monteCarlo:["rgb(8,104,172)","rgb(67,162,202)","rgb(123,204,196)","rgb(186,228,188)","rgb(240,249,232)"],vividCerise:["rgb(152,0,67)","rgb(221,28,119)","rgb(223,101,176)","rgb(215,181,216)","rgb(241,238,246)"],sundown:["rgb(122,1,119)","rgb(197,27,138)","rgb(247,104,161)","rgb(251,180,185)","rgb(254,235,226)"],madang:["rgb(0,104,55)","rgb(49,163,84)","rgb(120,198,121)","rgb(194,230,153)","rgb(255,255,204)"],curiousBlue:["rgb(37,52,148)","rgb(44,127,184)","rgb(65,182,196)","rgb(161,218,180)","rgb(255,255,204)"]},U={white:J,black:"rgb(33, 33, 33)",grey:K,themes:Q},Z=function(e){return m(Q[e])},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb(0, 0, 0)",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-20;return"rgb(".concat(e.split(/\D/).filter(function(e){return e}).map(function(e){var r=parseInt(e)+t;return r>255?r=255:r<0&&(r=0),r}).join(", "),")")},ee=0,te=function(e){if(!e)return null;var t="silky-charts_".concat(e,"-").concat(ee);return ee+=1,t},re=function(e){return e.reduce(h)},ne=function(e){return e.reduce(v)},ae=function(e,t){var r=t.name,n=t.value;return e[r]=e[r]?[].concat(D(e[r]),[n]):[n],e},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return l(x(y),b,w(ae,{}),t.length?g(function(e){var r=e.series;return t.includes(r)}):o)(e)},oe=l(E,x(d("series"))),ue={top:40,right:50,bottom:50,left:50},ce={width:0,height:0,isSizeSet:!1},le="monteCarlo",se={curveBasis:c.curveBasis,curveBasisClosed:c.curveBasisClosed,curveBasisOpen:c.curveBasisOpen,curveBundle:c.curveBundle,curveCardinal:c.curveCardinal,curveCardinalClosed:c.curveCardinalClosed,curveCardinalOpen:c.curveCardinalOpen,curveCatmullRom:c.curveCatmullRom,curveCatmullRomClosed:c.curveCatmullRomClosed,curveCatmullRomOpen:c.curveCatmullRomOpen,curveLinear:c.curveLinear,curveLinearClosed:c.curveLinearClosed,curveMonotoneX:c.curveMonotoneX,curveMonotoneY:c.curveMonotoneY,curveNatural:c.curveNatural,curveStep:c.curveStep,curveStepAfter:c.curveStepAfter,curveStepBefore:c.curveStepBefore},de=function(e,t,r,n){var a=r.top,i=r.right,o=r.bottom,u=r.left,c=X(n.split(":"),2),l=c[0],s=c[1],d=e||640,f=t||d/l*s;return e&&t?{width:e-u-i,height:t-a-o}:{width:(e?d:f/s*l)-u-i,height:(t?f:d/l*s)-a-o}},fe=C(isNaN),me=l(fe,Date.parse),he=S(x),ve=function(e,t){var r=t<0;a.selectAll("#".concat(e," .axis-x .tick text")).attr("text-anchor",r?"end":"start").attr("transform","translate(".concat(r?-12:12,", 6) rotate(").concat(t,")"))},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return P([[L("curveBundle"),function(){return se[e].beta(t)}],[L("curveCardinalOpen"),function(){return se[e].tension(t)}],[L("curveCatmullRomOpen"),function(){return se[e].alpha(t)}],[M,function(){return se[e]}]])(e)},ge=function(e){var t=me(e[0].name),r=E(e.map(function(e){return e.name}));return[t,t?e.map(function(e){return j({},e,{name:new Date(e.name)})}):e,t?r.map(function(e){return new Date(e)}):r]},ye=function(e){return l(x(O),z(oe(e).length),x(function(e){return N({name:e.name},e.series,e.value)}),A(d("name")))(e)},xe=function(e){var r=e.area,n=e.dataPositions,a=e.datum,i=e.fillColor,o=e.onClick,c=e.onMouseEnter,l=e.onMouseLeave,s=e.series,d=e.theme,f=e.tooltip,m=e.tooltipData,h=t.useContext(I),v=h.margin,g=h.node,y=X(t.useState({pageX:null,pageY:null,show:!1}),2),x=y[0],w=y[1],b=X(t.useState(0),2),E=b[0],k=b[1],C=X(t.useState(m[0]),2),S=C[0],O=C[1];return B.createElement(B.Fragment,null,B.createElement("g",{className:"".concat(H(s),"-layer")},B.createElement(Be,{chart:"stacked-area",fillColor:i,d:r(a),strokeWidth:0,onClick:o,onMouseEnter:function(e){var t=e.pageX,r=e.pageY;w(function(e){return j({},e,{pageX:t,pageY:r,show:!0})}),c(e)},onMouseLeave:function(e){w(function(e){return j({},e,{show:!1})}),l(e)},onMouseMove:function(e){var t=e.pageX,r=e.pageY,a=function(e,t,r){var n=e-t,a=(r[1]-r[0])/2;return p(function(e){return Math.abs(e-n)<=a},r)}(X(function(e,t){var r=t.clientX,n=t.clientY,a=e.createSVGPoint();a.x=r,a.y=n;var i=a.matrixTransform(e.getScreenCTM().inverse());return[i.x,i.y]}(g,e),1)[0],v.left,n);w(function(e){return j({},e,{pageX:t,pageY:r})}),a!==E&&m[a]&&function(e){k(e),O(m[e])}(a)}})),f&&x.show&&u.createPortal(B.createElement(Qe,{mousePosition:x},B.createElement(ut,{theme:d,data:S})),document.body))};function we(){var e=Y([""]);return we=function(){return e},e}var be=T.g.attrs(function(e){var t=e.axis,r=e.position;return{className:"axis-".concat(t),transform:r&&"translate(".concat(r.x,", ").concat(r.y,")")}})(we()),Ee=function(e){var r=e.color,n=e.datum,a=e.height,i=e.onClick,o=e.onMouseEnter,c=e.onMouseLeave,l=e.tooltip,s=e.width,d=e.x,f=e.y,m=X(t.useState({pageX:null,pageY:null,show:!1}),2),h=m[0],v=m[1];return B.createElement(t.Fragment,null,B.createElement(Fe,{chart:"bar",fillColor:r,onClick:i,onMouseEnter:function(e){v(function(e){return j({},e,{show:!0})}),o(e)},onMouseLeave:function(e){v(function(e){return j({},e,{show:!1})}),c(e)},onMouseMove:function(e){e.persist();var t=e.pageX,r=e.pageY;v(function(e){return j({},e,{pageX:t,pageY:r})})},position:{x:d,y:f},size:{width:s,height:a}}),l&&h.show&&u.createPortal(B.createElement(Qe,{mousePosition:h},B.createElement(ht,F({color:r},n))),document.body))};function ke(){var e=Y(["\n  fill: ",";\n"]);return ke=function(){return e},e}var Ce=T.circle.attrs(function(e){return{className:e.chart}})(ke(),function(e){return e.color});function Se(){var e=Y([""]);return Se=function(){return e},e}var Oe=T.g.attrs({className:"dataviz-layer"})(Se());function Pe(){var e=Y(["\n  path {\n    stroke: transparent;\n  }\n\n  line {\n    stroke: ",";\n  }\n"]);return Pe=function(){return e},e}var Le=T.g.attrs(function(){return{className:"grid"}})(Pe(),U.grey);function Me(){var e=Y(["\n  font-size: 0.9em;\n  text-anchor: middle;\n  transform: ",";\n"]);return Me=function(){return e},e}var qe=T.text.attrs(function(e){var t=e.axis,r=e.margin,n=e.width,a=e.height;return{className:"".concat(t,"-axis-label"),x:"x"===t?n/2:0-a/2,y:"x"===t?a+r.bottom-30:34-r.left}})(Me(),function(e){return"y"===e.axis&&"rotate(-90deg)"}),Ae=function(e){var r=e.chart,n=e.color,a=e.d,i=e.data,o=e.onClick,c=e.onMouseEnter,l=e.onMouseLeave,s=e.tooltip,d=e.xScale,f=e.yScale,m=X(t.useState({pageX:null,pageY:null,show:!1}),2),h=m[0],v=m[1];return B.createElement(t.Fragment,null,B.createElement(Be,{chart:r,d:a,strokeColor:n}),B.createElement("g",{className:"line-dot-group"},i.map(function(e,t){var a=e.name,i=e.value;return B.createElement(Ce,{key:t,chart:r,color:n,cx:d(a)+d.bandwidth()/2,cy:f(i),r:6,onClick:o,onMouseEnter:function(e){v(function(e){return j({},e,{show:!0})}),c(e)},onMouseLeave:function(e){v(function(e){return j({},e,{show:!1})}),l(e)},onMouseMove:function(e){var t=e.pageX,r=e.pageY;v(function(e){return j({},e,{name:a,pageX:t,pageY:r,value:i})})}})})),s&&h.show&&u.createPortal(B.createElement(Qe,{mousePosition:h},B.createElement(ht,{color:n,name:h.name,value:h.value})),document.body))};function ze(){var e=Y([""]);return ze=function(){return e},e}var Te=T.g.attrs(function(e){var t=e.margin,r=t.left,n=t.top;return{className:"silky-charts-container",transform:"translate(".concat(r,", ").concat(n,")")}})(ze());function Re(){var e=Y(["\n  fill: ",";\n  stroke: ",";\n  stroke-width: ",";\n  pointer-events: ","\n\n  &:hover {\n    fill: ",";\n  }\n"]);return Re=function(){return e},e}var Be=T.path.attrs(function(e){var t=e.chart;return{className:"line-path ".concat(t)}})(Re(),function(e){return e.fillColor||"none"},function(e){return e.strokeColor||"none"},3,function(e){return"bar-line"===e.chart&&"none"},function(e){var t=e.chart,r=e.fillColor;return"stacked-area"===t&&$(r)});function Ne(){var e=Y(["\n  fill: ",";\n\n  &:hover {\n    fill: ",";\n  }\n"]);return Ne=function(){return e},e}var Fe=T.rect.attrs(function(e){var t=e.chart,r=e.position,n=r.x,a=r.y,i=e.size;return{className:t,height:i.height,width:i.width,x:n,y:a}})(Ne(),function(e){return e.fillColor},function(e){var t=e.fillColor;return $(t)});function je(){var e=Y(["\n  font-size: 0.7em;\n  font-style: italic;\n  text-anchor: end;\n"]);return je=function(){return e},e}function Ye(){var e=Y(["\n  text-decoration: underline;\n"]);return Ye=function(){return e},e}var Xe=T.a.attrs(function(e){return{className:"data-source-link",href:e.href,target:e.target,title:e.title}})(Ye()),De=T.text.attrs(function(e){var t=e.height,r=e.margin;return{className:"data-source",x:e.width,y:t+r.bottom-50}})(je()),Ie=function(e){var t=e.dataSource,r=e.height,n=e.margin,a=e.width;return"string"==typeof t?B.createElement(De,{height:r,margin:n,width:a},t):B.createElement(Xe,t,B.createElement(De,{height:r,margin:n,width:a},t.text))},Ve=function(e){var t=e.height,r=e.onClick,n=e.onMouseEnter,a=e.onMouseLeave,i=e.series,o=e.theme,u=e.tooltip,c=e.x,l=e.y;return i.map(function(e){return B.createElement("g",{key:e.index,className:"".concat(e.key,"-layer")},e.map(function(i,s){var d=R(i)-m(i),f=i.data.name;return B.createElement(Ee,{key:s,color:U.themes[o][e.index],datum:{name:f,value:d},height:t-l(d),onClick:r,onMouseEnter:n,onMouseLeave:a,tooltip:u,width:c.bandwidth(),x:c(f),y:l(R(i))})}))})};function We(){var e=Y(["\n  height: ","px;\n  width: ","px;\n"]);return We=function(){return e},e}var Ge=T.svg.attrs(function(e){return{id:e.identifier,className:"silky-charts",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg"}})(We(),function(e){return e.size.height},function(e){return e.size.width});function He(){var e=Y(["\n  font-size: 1.2em;\n  text-anchor: middle;\n"]);return He=function(){return e},e}var _e=T.text.attrs(function(e){var t=e.margin;return{className:"chart-title",x:e.width/2,y:50-t.top}})(He());function Je(){var e=Y(["\n  background-color: ",";\n  border-radius: 4px;\n  padding: 10px;\n  pointer-events: none;\n  position: absolute;\n  text-align: center;\n  left: 0;\n  top: 0;\n  z-index: 1;\n\n  &:before {\n    content: '';\n    display: ",";\n    width: 0;\n    height: 0;\n    position: absolute;\n    border-left: 8px solid transparent;\n    border-top: 8px solid ",";\n    border-right: 8px solid transparent;\n    left: ","px;\n    top: ","px;\n  }\n"]);return Je=function(){return e},e}var Ke=T.div.attrs(function(e){return{className:"silky-charts-tooltip",style:e.position}})(Je(),"rgba(0, 0, 0, 0.85)",function(e){return e.staticTooltip?"none":"block"},"rgba(0, 0, 0, 0.85)",function(e){return e.width/2-8},function(e){return e.height}),Qe=function(e){var r=e.children,n=e.mousePosition,a=t.useRef(),i=t.useContext(I),o=i.margin,u=i.node,c=i.staticTooltip,l=X(t.useState({width:0,height:0}),2),s=l[0],d=l[1],f=function(e,t,r,n){var a=r.pageX,i=r.pageY,o=n.width,u=n.height,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"default",l=e.getBoundingClientRect(),s=l.top,d=l.right,f=l.bottom,m=l.left,h=k(m+t.left+20),v=k(s+t.top+20),p=k(d-o-t.right-20),g=k(f-u-t.bottom-20);return{"top-left":{left:h(),top:v()},"top-right":{left:p(),top:v()},"bottom-right":{left:p(),top:g()},"bottom-left":{left:h(),top:g()},default:{left:a-o/2,top:i-u-16}}[c]}(u,o,n,s,c);return t.useEffect(function(){var e=a.current,t=e.offsetWidth,r=e.offsetHeight;d({width:t,height:r})},[a,d]),B.createElement(Ke,F({ref:a,position:f,staticTooltip:c},s),r)};function Ue(){var e=Y(["\n  color: grey;\n  font-weight: 500;\n"]);return Ue=function(){return e},e}function Ze(){var e=Y(["\n  color: ",";\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 2px;\n"]);return Ze=function(){return e},e}function $e(){var e=Y(["\n  color: grey;\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 10px;\n  text-align: right;\n"]);return $e=function(){return e},e}function et(){var e=Y(["\n  background-color: ",";\n  margin-right: ","px;\n  padding: 0 ","px;\n"]);return et=function(){return e},e}function tt(){var e=Y(["\n  display: flex;\n  &:not(:last-child) {\n    margin-bottom: 6px;\n  }\n"]);return tt=function(){return e},e}var rt=T.div(tt()),nt=T.span(et(),function(e){return e.swatchColor||K},function(e){return e.marginRight},function(e){return e.width/2}),at=T.div($e()),it=T.div(Ze(),J),ot=T.span(Ue()),ut=function(e){var t=e.data,r=e.dateFormat,n=void 0===r?"%b %d, %Y":r,a=e.theme,o=void 0===a?"monteCarlo":a,u=i.timeFormat(n),c=t[0].name;return B.createElement(B.Fragment,null,B.createElement(at,null,me(c)?u(c):c),t.map(function(e,t){var r=e.series,n=e.value;return B.createElement(rt,{key:t},B.createElement(nt,{swatchColor:Q[o][t],width:6,marginRight:2}),B.createElement(nt,{swatchColor:Q[o][t],width:2,marginRight:10}),B.createElement(it,null,n," ",B.createElement(ot,null,"on")," ",r))}))};function ct(){var e=Y(["\n  color: grey;\n  font-weight: 500;\n"]);return ct=function(){return e},e}function lt(){var e=Y(["\n  color: ",";\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 4px;\n"]);return lt=function(){return e},e}function st(){var e=Y(["\n  background-color: ",";\n  display: block;\n  height: 2px;\n"]);return st=function(){return e},e}var dt=T.span(st(),function(e){return e.swatchColor||K}),ft=T.div(lt(),J),mt=T.span(ct()),ht=function(e){var t=e.color,r=e.dateFormat,n=void 0===r?"%b %d, %Y":r,a=e.name,o=e.value,u=i.timeFormat(n);return B.createElement(B.Fragment,null,B.createElement(ft,null,o," ",B.createElement(mt,null,"on")," ",me(a)?u(a):a),B.createElement(dt,{swatchColor:t}))},vt=function(e,r){var n,a,i,o,u,c=t.useRef(r),l=(n=r,a=250,i=[r],o=t.useRef(null).current,u=t.useCallback(n,i),t.useEffect(function(){return function(){clearTimeout(o)}},[o]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];clearTimeout(o),o=setTimeout(function(){return u.apply(void 0,t)},a)});t.useEffect(function(){return c.current()},[c]),t.useEffect(function(){return e&&window.addEventListener("resize",l),function(){e&&window.removeEventListener("resize",l)}},[l,e])};e.Bar=function(e){var u=e.aspectRatio,c=void 0===u?"16:9":u,l=e.data,s=e.dataSource,d=e.dateFormat,f=void 0===d?"%a %d":d,m=e.grid,h=e.height,v=void 0===h?void 0:h,p=e.horizontal,g=e.margin,y=void 0===g?ue:g,x=e.onClick,w=void 0===x?o:x,b=e.onMouseEnter,E=void 0===b?o:b,k=e.onMouseLeave,C=void 0===k?o:k,S=e.responsive,O=e.staticTooltip,P=e.theme,L=void 0===P?le:P,M=e.title,q=e.tooltip,A=e.width,z=void 0===A?void 0:A,T=e.xAxisChartLabel,R=e.xAxisLabelRotation,N=e.xAxisLabelRotationValue,F=void 0===N?-50:N,Y=e.xAxisTicks,D=void 0===Y?10:Y,V=e.padding,W=void 0===V?.1:V,G=e.yAxisChartLabel,H=e.yAxisTicks,J=void 0===H?5:H,K=t.useRef(),Q=X(t.useState(te("bar")),1)[0],U=i.timeFormat(f),$=X(t.useState(ce),2),ee=$[0],ne=ee.width,ae=ee.height,ie=ee.isSizeSet,oe=$[1],se=X(ge(l),2),fe=se[0],me=se[1],he=n.scaleBand().domain(me.map(function(e){return e.name})).range([0,ne]).padding(W),pe=n.scaleLinear().domain([0,re(me.map(function(e){return e.value}))]).range([ae,0]);return vt(S,function(){var e=K.current.parentElement.offsetWidth;!z&&!v||ie?e!==z-(y.left+y.right)&&oe(j({},de(e,void 0,y,c),{isSizeSet:!0})):oe(j({},de(z,v,y,c),{isSizeSet:!0}))}),B.createElement(I.Provider,{value:{margin:y,node:K.current,staticTooltip:O}},B.createElement(Ge,{identifier:Q,size:{width:z||ne+y.left+y.right,height:v||ae+y.top+y.bottom},ref:K},B.createElement(Te,{margin:y},m&&B.createElement(Le,{ref:function(e){return a.select(e).call(_(p,he,ae,pe,ne,D,J))}}),M&&B.createElement(_e,{margin:y,width:ne,height:ae},M),T&&B.createElement(qe,{axis:"x",margin:y,width:ne,height:ae},T),G&&B.createElement(qe,{axis:"y",margin:y,width:ne,height:ae},G),s&&B.createElement(Ie,{dataSource:s,height:ae,margin:y,width:ne}),B.createElement(Oe,null,me.map(function(e,t){var r=e.name,n=e.value;return B.createElement(Ee,{key:t,datum:{name:r,value:n},color:Z(L),x:he(r),y:pe(n),width:he.bandwidth(),height:ae-pe(n),onClick:w,onMouseEnter:E,onMouseLeave:C,tooltip:q})})),B.createElement(be,{axis:"x",position:{x:0,y:ae},ref:function(e){a.select(e).call(r.axisBottom(he).ticks(D).tickFormat(fe?U:null)),R&&ve(Q,F)}}),B.createElement(be,{axis:"y",ref:function(e){return a.select(e).call(r.axisLeft(pe).ticks(J))}}))))},e.BarLine=function(e){var u=e.aspectRatio,l=void 0===u?"16:9":u,s=e.data,d=e.dataSource,f=e.dateFormat,h=void 0===f?"%a %d":f,v=e.grid,p=e.height,g=void 0===p?void 0:p,y=e.horizontal,x=e.lineSeries,w=void 0===x?[]:x,b=e.lineType,E=void 0===b?"curveLinear":b,k=e.lineTypeOption,C=void 0===k?null:k,S=e.margin,O=void 0===S?ue:S,P=e.onClick,L=void 0===P?o:P,M=e.onMouseEnter,q=void 0===M?o:M,A=e.onMouseLeave,z=void 0===A?o:A,T=e.padding,R=void 0===T?.1:T,N=e.responsive,F=e.secondaryTheme,Y=void 0===F?"vividCerise":F,D=e.stackedSeries,V=void 0===D?[]:D,G=e.staticTooltip,H=e.theme,J=void 0===H?le:H,K=e.title,Q=e.tooltip,Z=e.width,$=void 0===Z?void 0:Z,ee=e.xAxisChartLabel,ne=e.xAxisLabelRotation,ae=e.xAxisLabelRotationValue,oe=void 0===ae?-50:ae,se=e.xAxisTicks,fe=void 0===se?10:se,me=e.yAxisChartLabel,he=e.yAxisTicks,xe=void 0===he?5:he,we=t.useRef(),Ee=X(t.useState(te("bar-line")),1)[0],ke=i.timeFormat(h),Ce=X(t.useState(ce),2),Se=Ce[0],Oe=Se.width,Pe=Se.height,Me=Se.isSizeSet,ze=Ce[1],Re=X(ge(s),2),Be=Re[0],Ne=Re[1],Fe=W(V)(ye(Ne)),je=n.scaleBand().domain(Ne.map(function(e){return e.name})).range([0,Oe]).padding(R),Ye=n.scaleLinear().domain([0,re(ie(Ne,V))]).range([Pe,0]),Xe=c.line().curve(pe(E,C)).x(function(e){var t=e.name;return je(t)+je.bandwidth()/2}).y(function(e){var t=e.value;return Ye(t)}),De=function(e,t){return e.map(function(e){return t.filter(function(t){return t.series===e})})}(w,Ne);return vt(N,function(){var e=we.current.parentElement.offsetWidth;!$&&!g||Me?e!==$-(O.left+O.right)&&ze(j({},de(e,void 0,O,l),{isSizeSet:!0})):ze(j({},de($,g,O,l),{isSizeSet:!0}))}),B.createElement(I.Provider,{value:{margin:O,node:we.current,staticTooltip:G}},B.createElement(Ge,{identifier:Ee,size:{width:$||Oe+O.left+O.right,height:g||Pe+O.top+O.bottom},ref:we},B.createElement(Te,{margin:O},v&&B.createElement(Le,{ref:function(e){return a.select(e).call(_(y,je,Pe,Ye,Oe,fe,xe))}}),K&&B.createElement(_e,{margin:O,width:Oe},K),ee&&B.createElement(qe,{axis:"x",margin:O,width:Oe,height:Pe},ee),me&&B.createElement(qe,{axis:"y",margin:O,width:Oe,height:Pe},me),d&&B.createElement(Ie,{dataSource:d,height:Pe,margin:O,width:Oe}),B.createElement(Ve,{data:Ne,series:Fe,theme:J,x:je,y:Ye,width:Oe,height:Pe,onClick:L,onMouseEnter:q,onMouseLeave:z,tooltip:Q}),B.createElement(be,{axis:"x",position:{x:0,y:Pe},ref:function(e){a.select(e).call(r.axisBottom(je).ticks(fe).tickFormat(Be?ke:null)),ne&&ve(Ee,oe)}}),B.createElement(be,{axis:"y",ref:function(e){return a.select(e).call(r.axisLeft(Ye).ticks(xe))}}),De.map(function(e,t){return B.createElement("g",{className:"".concat(m(e).series,"-layer"),key:t},B.createElement(Ae,{chart:"bar-line",data:e,color:U.themes[Y][t],d:Xe(e),xScale:je,yScale:Ye,margin:O,onClick:L,onMouseEnter:q,onMouseLeave:z,staticTooltip:G,svg:we.current,tooltip:Q}))}))))},e.StackedArea=function(e){var u=e.aspectRatio,m=void 0===u?"16:9":u,h=e.data,v=e.dataSource,p=e.dateFormat,g=void 0===p?"%a %d":p,y=e.grid,x=e.height,w=void 0===x?void 0:x,b=e.horizontal,E=e.lineType,k=void 0===E?"curveLinear":E,C=e.lineTypeOption,S=void 0===C?null:C,P=e.margin,L=void 0===P?ue:P,M=e.onClick,q=void 0===M?o:M,A=e.onMouseEnter,z=void 0===A?o:A,T=e.onMouseLeave,R=void 0===T?o:T,F=e.responsive,Y=void 0!==F&&F,D=e.staticTooltip,H=e.theme,J=void 0===H?le:H,K=e.title,Q=e.tooltip,Z=e.width,$=void 0===Z?void 0:Z,ee=e.xAxisChartLabel,ae=e.xAxisLabelRotation,se=e.xAxisLabelRotationValue,fe=void 0===se?-50:se,me=e.xAxisTicks,we=void 0===me?10:me,Ee=e.yAxisChartLabel,ke=e.yAxisTicks,Ce=void 0===ke?5:ke,Se=t.useRef(null),Oe=X(t.useState(te("stacked-area")),1)[0],Pe=i.timeFormat(g),Me=X(t.useState(ce),2),Ae=Me[0],ze=Ae.width,Re=Ae.height,Be=Ae.isSizeSet,Ne=Me[1],Fe=X(ge(h),3),je=Fe[0],Ye=Fe[1],Xe=Fe[2];if(Ye=function(e,t){return e.forEach(function(e){t.forEach(function(t){e.key===t.series&&(t.stackedValues=e[V],V+=1)}),V=0}),t}(W(oe(Ye))(ye(Ye)),Ye),!je)throw new TypeError('StackedArea charts only accept valid dates in the "name" section of the dataset.');var De,Ve=n.scaleTime().domain((De=Ye.map(function(e){return e.name}),[ne(De),re(De)])).range([0,ze]),We=n.scaleLinear().domain([0,re(ie(Ye))]).range([Re,0]),He=c.area().curve(pe(k,S)).x(function(e){var t=e.name;return Ve(t)}).y0(function(e){var t=e.stackedValues;return We(t[0])}).y1(function(e){var t=e.stackedValues;return We(t[1])}),Je=Xe.map(function(e){return Ve(e)}),Ke=function(e,t){return l(O,he(function(e,r){var n=X(e,2),a=(n[0],n[1]);return N({},t[r],a)}),f,s(d("name")))(e)}(Ye,Je);return vt(Y,function(){var e=Se.current.parentElement.offsetWidth;!$&&!w||Be?e!==$-(L.left+L.right)&&Ne(j({},de(e,void 0,L,m),{isSizeSet:!0})):Ne(j({},de($,w,L,m),{isSizeSet:!0}))}),B.createElement(I.Provider,{value:{margin:L,node:Se.current,staticTooltip:D}},B.createElement(Ge,{identifier:Oe,size:{width:$||ze+L.left+L.right,height:w||Re+L.top+L.bottom},ref:Se},B.createElement(Te,{margin:L},y&&B.createElement(Le,{ref:function(e){return a.select(e).call(_(b,Ve,Re,We,ze,we,Ce))}}),K&&B.createElement(_e,{margin:L,width:ze},K),ee&&B.createElement(qe,{axis:"x",margin:L,width:ze,height:Re},ee),Ee&&B.createElement(qe,{axis:"y",margin:L,width:ze,height:Re},Ee),v&&B.createElement(Ie,{dataSource:v,height:Re,margin:L,width:ze}),G(Ye).map(function(e,t){var r=X(e,2),n=r[0],a=r[1];return B.createElement(xe,{area:He,dataPositions:Je,datum:a,fillColor:U.themes[J][t],key:t,onClick:q,onMouseEnter:z,onMouseLeave:R,series:n,theme:J,tooltip:Q,tooltipData:Ke})}),B.createElement(be,{axis:"x",position:{x:0,y:Re},ref:function(e){a.select(e).call(r.axisBottom(Ve).ticks(we).tickFormat(Pe)),ae&&ve(Oe,fe)}}),B.createElement(be,{axis:"y",ref:function(e){return a.select(e).call(r.axisLeft(We).ticks(Ce))}}))))},e.toSeries=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return q(Object.keys(e).map(function(r){return Object.entries(e[r]).reduce(function(e,n){var a=X(n,2),i=a[0],o=a[1];return t.includes(i)||e.push({name:r,series:i,value:parseInt(o)}),e},[])}))}});
