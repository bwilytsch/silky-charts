!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("d3-scale"),require("d3-selection"),require("ramda/src/identity"),require("react-dom"),require("d3-shape"),require("ramda/src/compose"),require("ramda/src/groupBy"),require("ramda/src/prop"),require("ramda/src/toPairs"),require("d3-axis"),require("ramda/src/head"),require("ramda/src/max"),require("ramda/src/min"),require("ramda/src/find"),require("ramda/src/filter"),require("ramda/src/sum"),require("ramda/src/map"),require("ramda/src/reduce"),require("ramda/src/values"),require("ramda/src/uniq"),require("ramda/src/always"),require("ramda/src/complement"),require("ramda/src/addIndex"),require("ramda/src/mergeAll"),require("ramda/src/cond"),require("ramda/src/equals"),require("ramda/src/T"),require("ramda/src/flatten"),require("ramda/src/sortBy"),require("ramda/src/splitEvery"),require("styled-components"),require("d3-time-format"),require("ramda/src/last")):"function"==typeof define&&define.amd?define(["exports","react","d3-scale","d3-selection","ramda/src/identity","react-dom","d3-shape","ramda/src/compose","ramda/src/groupBy","ramda/src/prop","ramda/src/toPairs","d3-axis","ramda/src/head","ramda/src/max","ramda/src/min","ramda/src/find","ramda/src/filter","ramda/src/sum","ramda/src/map","ramda/src/reduce","ramda/src/values","ramda/src/uniq","ramda/src/always","ramda/src/complement","ramda/src/addIndex","ramda/src/mergeAll","ramda/src/cond","ramda/src/equals","ramda/src/T","ramda/src/flatten","ramda/src/sortBy","ramda/src/splitEvery","styled-components","d3-time-format","ramda/src/last"],t):t((e=e||self).silkyCharts={},e.React,e.d3Scale,e.d3Selection,e.identity,e.ReactDOM,e.d3Shape,e.compose,e.groupBy,e.prop,e.toPairs,e.d3Axis$1,e.head,e.max,e.min,e.find,e.filter,e.sum,e.map,e.reduce,e.values,e.uniq,e.always,e.complement,e.addIndex,e.mergeAll,e.cond,e.equals,e.T,e.flatten,e.sortBy,e.splitEvery,e.styled,e.d3TimeFormat,e.last)}(this,function(e,t,r,n,a,i,o,u,c,l,s,d,f,m,h,v,p,g,y,x,b,w,E,k,C,S,O,P,L,T,A,R,q,M,z){"use strict";var B="default"in t?t.default:t;function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){N(e,t,r[t])})}return e}function Y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}a=a&&a.hasOwnProperty("default")?a.default:a,u=u&&u.hasOwnProperty("default")?u.default:u,c=c&&c.hasOwnProperty("default")?c.default:c,l=l&&l.hasOwnProperty("default")?l.default:l,s=s&&s.hasOwnProperty("default")?s.default:s,f=f&&f.hasOwnProperty("default")?f.default:f,m=m&&m.hasOwnProperty("default")?m.default:m,h=h&&h.hasOwnProperty("default")?h.default:h,v=v&&v.hasOwnProperty("default")?v.default:v,p=p&&p.hasOwnProperty("default")?p.default:p,g=g&&g.hasOwnProperty("default")?g.default:g,y=y&&y.hasOwnProperty("default")?y.default:y,x=x&&x.hasOwnProperty("default")?x.default:x,b=b&&b.hasOwnProperty("default")?b.default:b,w=w&&w.hasOwnProperty("default")?w.default:w,E=E&&E.hasOwnProperty("default")?E.default:E,k=k&&k.hasOwnProperty("default")?k.default:k,C=C&&C.hasOwnProperty("default")?C.default:C,S=S&&S.hasOwnProperty("default")?S.default:S,O=O&&O.hasOwnProperty("default")?O.default:O,P=P&&P.hasOwnProperty("default")?P.default:P,L=L&&L.hasOwnProperty("default")?L.default:L,T=T&&T.hasOwnProperty("default")?T.default:T,A=A&&A.hasOwnProperty("default")?A.default:A,R=R&&R.hasOwnProperty("default")?R.default:R,q=q&&q.hasOwnProperty("default")?q.default:q,z=z&&z.hasOwnProperty("default")?z.default:z;var V=t.createContext(),W=0,I=function(e){return o.stack().keys(e).order(o.stackOrderNone).offset(o.stackOffsetNone)},H=u(s,c(l("series"))),G=function(e){return e.replace(/ /g,"-").toLowerCase()},$=function(e,t,r,n,a,i,o){return e?d.axisBottom().scale(t).tickSize(r,0,0).ticks(i).tickFormat(""):d.axisLeft().scale(n).tickSize(-a,0,0).ticks(o).tickFormat("")},J="rgb(255, 255, 255)",K="rgb(243, 243, 243)",Q={monteCarlo:["rgb(8,104,172)","rgb(67,162,202)","rgb(123,204,196)","rgb(186,228,188)","rgb(240,249,232)"],vividCerise:["rgb(152,0,67)","rgb(221,28,119)","rgb(223,101,176)","rgb(215,181,216)","rgb(241,238,246)"],sundown:["rgb(122,1,119)","rgb(197,27,138)","rgb(247,104,161)","rgb(251,180,185)","rgb(254,235,226)"],madang:["rgb(0,104,55)","rgb(49,163,84)","rgb(120,198,121)","rgb(194,230,153)","rgb(255,255,204)"],curiousBlue:["rgb(37,52,148)","rgb(44,127,184)","rgb(65,182,196)","rgb(161,218,180)","rgb(255,255,204)"]},U={white:J,black:"rgb(27, 27, 27)",grey:K,themes:Q},Z=function(e){return f(Q[e])},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgb(0, 0, 0)",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-20;return"rgb(".concat(e.split(/\D/).filter(function(e){return e}).map(function(e){var r=parseInt(e)+t;return r>255?r=255:r<0&&(r=0),r}).join(", "),")")},ee=function(e){return e.reduce(m)},te=function(e){return e.reduce(h)},re=function(e,t){var r=t.name,n=t.value;return e[r]=e[r]?[].concat(D(e[r]),[n]):[n],e},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u(y(g),b,x(re,{}),t.length?p(function(e){var r=e.series;return t.includes(r)}):a)(e)},ae=u(w,y(l("series"))),ie={top:40,right:50,bottom:50,left:50},oe={width:0,height:0},ue="monteCarlo",ce={curveBasis:o.curveBasis,curveBasisClosed:o.curveBasisClosed,curveBasisOpen:o.curveBasisOpen,curveBundle:o.curveBundle,curveCardinal:o.curveCardinal,curveCardinalClosed:o.curveCardinalClosed,curveCardinalOpen:o.curveCardinalOpen,curveCatmullRom:o.curveCatmullRom,curveCatmullRomClosed:o.curveCatmullRomClosed,curveCatmullRomOpen:o.curveCatmullRomOpen,curveLinear:o.curveLinear,curveLinearClosed:o.curveLinearClosed,curveMonotoneX:o.curveMonotoneX,curveMonotoneY:o.curveMonotoneY,curveNatural:o.curveNatural,curveStep:o.curveStep,curveStepAfter:o.curveStepAfter,curveStepBefore:o.curveStepBefore},le=function(e,t,r,n){var a=r.top,i=r.right,o=r.bottom,u=r.left,c=X(n.split(":"),2),l=c[0],s=c[1],d=e||640,f=t||d/l*s;return e&&t?{width:e-u-i,height:t-a-o}:{width:(e?d:f/s*l)-u-i,height:(t?f:d/l*s)-a-o}},se=k(isNaN),de=u(se,Date.parse),fe=C(y),me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return O([[P("curveBundle"),function(){return ce[e].beta(t)}],[P("curveCardinalOpen"),function(){return ce[e].tension(t)}],[P("curveCatmullRomOpen"),function(){return ce[e].alpha(t)}],[L,function(){return ce[e]}]])(e)},he=function(e){var t=de(e[0].name),r=w(e.map(function(e){return e.name}));return[t,t?e.map(function(e){return j({},e,{name:new Date(e.name)})}):e,t?r.map(function(e){return new Date(e)}):r]},ve=function(e){return u(y(S),R(ae(e).length),y(function(e){return N({name:e.name},e.series,e.value)}),A(l("name")))(e)},pe=function(e){var r=e.area,n=e.dataPositions,a=e.datum,o=e.fillColor,u=e.onClick,c=e.onMouseEnter,l=e.onMouseLeave,s=e.series,d=e.theme,f=e.tooltip,m=e.tooltipData,h=t.useContext(V),p=h.margin,g=h.node,y=h.outlinedStyle,x=X(t.useState({pageX:null,pageY:null,show:!1}),2),b=x[0],w=x[1],E=X(t.useState(0),2),k=E[0],C=E[1],S=X(t.useState(m[0]),2),O=S[0],P=S[1];return B.createElement(B.Fragment,null,B.createElement("g",{className:"".concat(G(s),"-layer")},B.createElement(Me,{chart:"stacked-area",fillColor:o,d:r(a),onClick:u,onMouseEnter:function(e){var t=e.pageX,r=e.pageY;w(function(e){return j({},e,{pageX:t,pageY:r,show:!0})}),c(e)},onMouseLeave:function(e){w(function(e){return j({},e,{show:!1})}),l(e)},onMouseMove:function(e){var t=e.pageX,r=e.pageY,a=function(e,t,r){var n=e-t,a=(r[1]-r[0])/2;return v(function(e){return Math.abs(e-n)<=a},r)}(X(function(e,t){var r=t.clientX,n=t.clientY,a=e.createSVGPoint();a.x=r,a.y=n;var i=a.matrixTransform(e.getScreenCTM().inverse());return[i.x,i.y]}(g,e),1)[0],p.left,n);w(function(e){return j({},e,{pageX:t,pageY:r})}),a!==k&&m[a]&&function(e){C(e),P(m[e])}(a)},outlinedStyle:y})),f&&b.show&&i.createPortal(B.createElement(Je,{mousePosition:b},B.createElement(it,{theme:d,data:O})),document.body))};function ge(){var e=Y([""]);return ge=function(){return e},e}var ye=q.g.attrs(function(e){var t=e.axis,r=e.position;return{className:"axis-".concat(t),transform:r&&"translate(".concat(r.x,", ").concat(r.y,")")}})(ge()),xe=function(e){var r=e.axis,a=e.axisTicks,i=e.position,o=e.orientation,u=e.scale,c=e.toDate,l=t.useContext(V),s=l.dateFormat,f=l.visibleTicks,m=l.xAxisLabelRotation,h=l.xAxisLabelRotationValue,v=M.timeFormat(s);return B.createElement(ye,{axis:r,position:i,ref:function(e){n.select(e).call(function(e,t){return{top:d.axisTop,right:d.axisRight,bottom:d.axisBottom,left:d.axisLeft}[e](t)}(o,u).ticks(a).tickFormat(c?v:null)),!f&&function(e){if(e){e.querySelectorAll(".tick line").forEach(function(e){return e.remove()});var t=e.querySelector("path.domain"),r=t.getAttribute("d");t.setAttribute("d",r.replace(/.5(V|H-)6/,""))}}(e),m&&function(e,t){if(e){var r=t<0;e.querySelectorAll(".axis-x .tick text").forEach(function(e){e.setAttribute("text-anchor",r?"end":"start"),e.setAttribute("transform","translate(".concat(r?-12:12,", 6) rotate(").concat(t,")"))})}}(e,h)}})},be=function(e){var r=e.color,n=e.datum,a=e.height,o=e.onClick,u=e.onMouseEnter,c=e.onMouseLeave,l=e.tooltip,s=e.width,d=e.x,f=e.y,m=t.useContext(V).outlinedStyle,h=X(t.useState({pageX:null,pageY:null,show:!1}),2),v=h[0],p=h[1];return B.createElement(B.Fragment,null,B.createElement(Be,{chart:"bar",fillColor:r,onClick:o,onMouseEnter:function(e){p(function(e){return j({},e,{show:!0})}),u(e)},onMouseLeave:function(e){p(function(e){return j({},e,{show:!1})}),c(e)},onMouseMove:function(e){e.persist();var t=e.pageX,r=e.pageY;p(function(e){return j({},e,{pageX:t,pageY:r})})},outlinedStyle:m,position:{x:d,y:f},size:{width:s,height:a}}),l&&v.show&&i.createPortal(B.createElement(Je,{mousePosition:v},B.createElement(ft,F({color:r},n))),document.body))};function we(){var e=Y(["\n  fill: ",";\n  stroke: ",";\n  stroke-width: ",";\n"]);return we=function(){return e},e}var Ee=q.circle.attrs(function(e){return{className:e.chart}})(we(),J,function(e){return e.strokeColor||"none"},function(e){return e.strokeWidth||2});function ke(){var e=Y([""]);return ke=function(){return e},e}var Ce=q.g.attrs({className:"dataviz-layer"})(ke());function Se(){var e=Y(["\n  path {\n    stroke: transparent;\n  }\n\n  line {\n    stroke: ",";\n  }\n"]);return Se=function(){return e},e}var Oe=q.g.attrs(function(){return{className:"grid"}})(Se(),U.grey);function Pe(){var e=Y(["\n  font-size: 0.9em;\n  text-anchor: middle;\n  transform: ",";\n"]);return Pe=function(){return e},e}var Le=q.text.attrs(function(e){var t=e.axis,r=e.margin,n=e.width,a=e.height;return{className:"".concat(t,"-axis-label"),x:"x"===t?n/2:0-a/2,y:"x"===t?a+r.bottom-30:34-r.left}})(Pe(),function(e){return"y"===e.axis&&"rotate(-90deg)"}),Te=function(e){var r=e.chart,n=e.color,a=e.d,o=e.data,u=e.onClick,c=e.onMouseEnter,l=e.onMouseLeave,s=e.tooltip,d=e.xScale,f=e.yScale,m=X(t.useState({pageX:null,pageY:null,show:!1}),2),h=m[0],v=m[1];return B.createElement(t.Fragment,null,B.createElement(Me,{chart:r,d:a,strokeColor:n,strokeWidth:2}),B.createElement("g",{className:"line-dot-group"},o.map(function(e,t){var a=e.name,i=e.value;return B.createElement(Ee,{key:t,chart:r,cx:d(a)+d.bandwidth()/2,cy:f(i),r:5,onClick:u,onMouseEnter:function(e){v(function(e){return j({},e,{show:!0})}),c(e)},onMouseLeave:function(e){v(function(e){return j({},e,{show:!1})}),l(e)},onMouseMove:function(e){var t=e.pageX,r=e.pageY;v(function(e){return j({},e,{name:a,pageX:t,pageY:r,value:i})})},strokeColor:n,strokeWidth:2})})),s&&h.show&&i.createPortal(B.createElement(Je,{mousePosition:h},B.createElement(ft,{color:n,name:h.name,value:h.value})),document.body))};function Ae(){var e=Y([""]);return Ae=function(){return e},e}var Re=q.g.attrs(function(e){var t=e.margin,r=t.left,n=t.top;return{className:"silky-charts-container",transform:"translate(".concat(r,", ").concat(n,")")}})(Ae());function qe(){var e=Y(["\n  fill: ",";\n  stroke: ",";\n  stroke-width: ",";\n  pointer-events: ","\n\n  &:hover {\n    fill: ",";\n  }\n"]);return qe=function(){return e},e}var Me=q.path.attrs(function(e){var t=e.chart;return{className:"line-path ".concat(t)}})(qe(),function(e){var t=e.fillColor;return e.outlinedStyle?_(t,50):t||"none"},function(e){var t=e.fillColor,r=e.strokeColor;return e.outlinedStyle?_(r||t,-20):r||t},2,function(e){return"combination"===e.chart&&"none"},function(e){var t=e.chart,r=e.fillColor;return"stacked-area"===t&&_(r)});function ze(){var e=Y(["\n  fill: ",";\n  stroke: ",";\n  stroke-width: ",";\n\n  &:hover {\n    fill: ",";\n  }\n"]);return ze=function(){return e},e}var Be=q.rect.attrs(function(e){var t=e.chart,r=e.position,n=r.x,a=r.y,i=e.size;return{className:t,height:i.height,width:i.width,x:n,y:a}})(ze(),function(e){var t=e.fillColor;return e.outlinedStyle?_(t,50):t},function(e){var t=e.fillColor;return e.outlinedStyle?_(t,-20):null},function(e){return e.outlinedStyle?2:null},function(e){var t=e.fillColor;return e.outlinedStyle?_(t,30):_(t)});function Ne(){var e=Y(["\n  font-size: 0.7em;\n  font-style: italic;\n  text-anchor: end;\n"]);return Ne=function(){return e},e}function Fe(){var e=Y(["\n  text-decoration: underline;\n"]);return Fe=function(){return e},e}var je=q.a.attrs(function(e){return{className:"data-source-link",href:e.href,target:e.target,title:e.title}})(Fe()),Ye=q.text.attrs(function(e){var t=e.height,r=e.margin;return{className:"data-source",x:e.width,y:t+r.bottom-50}})(Ne()),Xe=function(e){var t=e.dataSource,r=e.height,n=e.margin,a=e.width;return"string"==typeof t?B.createElement(Ye,{height:r,margin:n,width:a},t):B.createElement(je,t,B.createElement(Ye,{height:r,margin:n,width:a},t.text))},De=function(e){var t=e.height,r=e.onClick,n=e.onMouseEnter,a=e.onMouseLeave,i=e.series,o=e.theme,u=e.tooltip,c=e.x,l=e.y;return i.map(function(e){return B.createElement("g",{key:e.index,className:"".concat(e.key,"-layer")},e.map(function(i,s){var d=z(i)-f(i),m=i.data.name;return B.createElement(be,{key:s,color:U.themes[o][e.index],datum:{name:m,value:d},height:t-l(d),onClick:r,onMouseEnter:n,onMouseLeave:a,tooltip:u,width:c.bandwidth(),x:c(m),y:l(z(i))})}))})};function Ve(){var e=Y(["\n  height: ","px;\n  width: ","px;\n"]);return Ve=function(){return e},e}var We=q.svg.attrs(function(e){return{id:e.identifier,className:"silky-charts",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg"}})(Ve(),function(e){return e.size.height},function(e){return e.size.width});function Ie(){var e=Y(["\n  font-size: 1.2em;\n  text-anchor: middle;\n"]);return Ie=function(){return e},e}var He=q.text.attrs(function(e){var t=e.margin;return{className:"chart-title",x:e.width/2,y:50-t.top}})(Ie());function Ge(){var e=Y(["\n  background-color: ",";\n  border-radius: 4px;\n  padding: 10px;\n  pointer-events: none;\n  position: absolute;\n  text-align: center;\n  left: 0;\n  top: 0;\n  z-index: 1;\n\n  &:before {\n    content: '';\n    display: ",";\n    width: 0;\n    height: 0;\n    position: absolute;\n    border-left: 8px solid transparent;\n    border-top: 8px solid ",";\n    border-right: 8px solid transparent;\n    left: ","px;\n    top: ","px;\n  }\n"]);return Ge=function(){return e},e}var $e=q.div.attrs(function(e){return{className:"silky-charts-tooltip",style:e.position}})(Ge(),"rgba(0, 0, 0, 0.85)",function(e){return e.staticTooltip?"none":"block"},"rgba(0, 0, 0, 0.85)",function(e){return e.width/2-8},function(e){return e.height}),Je=function(e){var r=e.children,n=e.mousePosition,a=t.useRef(),i=t.useContext(V),o=i.margin,u=i.node,c=i.staticTooltip,l=X(t.useState({width:0,height:0}),2),s=l[0],d=l[1],f=function(e,t,r,n){var a=r.pageX,i=r.pageY,o=n.width,u=n.height,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"default",l=e.getBoundingClientRect(),s=l.top,d=l.right,f=l.bottom,m=l.left,h=E(m+t.left+20),v=E(s+t.top+20),p=E(d-o-t.right-20),g=E(f-u-t.bottom-20);return{"top-left":{left:h(),top:v()},"top-right":{left:p(),top:v()},"bottom-right":{left:p(),top:g()},"bottom-left":{left:h(),top:g()},default:{left:a-o/2,top:i-u-16}}[c]}(u,o,n,s,c);return t.useEffect(function(){var e=a.current,t=e.offsetWidth,r=e.offsetHeight;d({width:t,height:r})},[a,d]),B.createElement($e,F({ref:a,position:f,staticTooltip:c},s),r)};function Ke(){var e=Y(["\n  color: grey;\n  font-weight: 500;\n"]);return Ke=function(){return e},e}function Qe(){var e=Y(["\n  color: ",";\n  font-size: 12px;\n  font-weight: 600;\n  padding: 2px 0;\n"]);return Qe=function(){return e},e}function Ue(){var e=Y(["\n  color: grey;\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 10px;\n  text-align: right;\n"]);return Ue=function(){return e},e}function Ze(){var e=Y(["\n  background-color: ",";\n  margin-right: ","px;\n  padding: 0 ","px;\n"]);return Ze=function(){return e},e}function _e(){var e=Y(["\n  display: flex;\n  &:not(:last-child) {\n    margin-bottom: 6px;\n  }\n"]);return _e=function(){return e},e}var et=q.div(_e()),tt=q.span(Ze(),function(e){return e.swatchColor||K},function(e){return e.marginRight},function(e){return e.width/2}),rt=q.div(Ue()),nt=q.div(Qe(),J),at=q.span(Ke()),it=function(e){var t=e.data,r=e.dateFormat,n=void 0===r?"%b %d, %Y":r,a=e.theme,i=void 0===a?"monteCarlo":a,o=M.timeFormat(n),u=t[0].name;return B.createElement(B.Fragment,null,B.createElement(rt,null,de(u)?o(u):u),t.map(function(e,t){var r=e.series,n=e.value;return B.createElement(et,{key:t},B.createElement(tt,{swatchColor:Q[i][t],width:6,marginRight:2}),B.createElement(tt,{swatchColor:Q[i][t],width:2,marginRight:10}),B.createElement(nt,null,n," ",B.createElement(at,null,"on")," ",r))}))};function ot(){var e=Y(["\n  color: grey;\n  font-weight: 500;\n"]);return ot=function(){return e},e}function ut(){var e=Y(["\n  color: ",";\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 4px;\n"]);return ut=function(){return e},e}function ct(){var e=Y(["\n  background-color: ",";\n  display: block;\n  height: 2px;\n"]);return ct=function(){return e},e}var lt=q.span(ct(),function(e){return e.swatchColor||K}),st=q.div(ut(),J),dt=q.span(ot()),ft=function(e){var t=e.color,r=e.dateFormat,n=void 0===r?"%b %d, %Y":r,a=e.name,i=e.value,o=M.timeFormat(n);return B.createElement(B.Fragment,null,B.createElement(st,null,i," ",B.createElement(dt,null,"on")," ",de(a)?o(a):a),B.createElement(lt,{swatchColor:t}))},mt=function(e){var r,n,a,i,o,u=e.aspectRatio,c=e.graphHeight,l=e.graphWidth,s=e.margin,d=e.responsive,f=e.setSize,m=e.svgRef,h=function(){var e=m.current.parentElement.offsetWidth;f(j({},le(e,void 0,s,u),{isSizeSet:!0}))},v=t.useRef(function(){var e=m.current.parentElement.offsetWidth;f(j({},le(l||e,c,s,u),{isSizeSet:!0}))}),p=(r=h,n=250,a=[h],i=t.useRef(null).current,o=t.useCallback(r,a),t.useEffect(function(){return function(){clearTimeout(i)}},[i]),function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];clearTimeout(i),i=setTimeout(function(){return o.apply(void 0,t)},n)});t.useEffect(function(){return v.current()},[v]),t.useEffect(function(){return d&&window.addEventListener("resize",p),function(){d&&window.removeEventListener("resize",p)}},[p,d])};e.Bar=function(e){var i=e.aspectRatio,o=void 0===i?"16:9":i,u=e.data,c=e.dataSource,l=e.dateFormat,s=void 0===l?"%a %d":l,d=e.grid,f=e.height,m=void 0===f?void 0:f,h=e.horizontal,v=e.margin,p=void 0===v?ie:v,g=e.onClick,y=void 0===g?a:g,x=e.onMouseEnter,b=void 0===x?a:x,w=e.onMouseLeave,E=void 0===w?a:w,k=e.outlinedStyle,C=e.padding,S=void 0===C?.15:C,O=e.responsive,P=e.staticTooltip,L=e.theme,T=void 0===L?ue:L,A=e.title,R=e.tooltip,q=e.visibleTicks,M=e.width,z=void 0===M?void 0:M,N=e.xAxisChartLabel,F=e.xAxisLabelRotation,j=e.xAxisLabelRotationValue,Y=void 0===j?-50:j,D=e.xAxisTicks,W=void 0===D?10:D,I=e.yAxisChartLabel,H=e.yAxisTicks,G=void 0===H?5:H,J=t.useRef(),K=X(t.useState(oe),2),Q=K[0],U=Q.width,_=Q.height,te=K[1],re=X(he(u),2),ne=re[0],ae=re[1],ce=r.scaleBand().domain(ae.map(function(e){return e.name})).range([0,U]).padding(S),le=r.scaleLinear().domain([0,ee(ae.map(function(e){return e.value}))]).range([_,0]);return mt({aspectRatio:o,graphHeight:m,graphWidth:z,margin:p,responsive:O,setSize:te,svgRef:J}),B.createElement(V.Provider,{value:{dateFormat:s,margin:p,node:J.current,outlinedStyle:k,staticTooltip:P,visibleTicks:q,xAxisLabelRotation:F,xAxisLabelRotationValue:Y}},B.createElement(We,{size:{width:z||U+p.left+p.right,height:m||_+p.top+p.bottom},ref:J},B.createElement(Re,{margin:p},d&&B.createElement(Oe,{ref:function(e){return n.select(e).call($(h,ce,_,le,U,W,G))}}),A&&B.createElement(He,{margin:p,width:U,height:_},A),N&&B.createElement(Le,{axis:"x",margin:p,width:U,height:_},N),I&&B.createElement(Le,{axis:"y",margin:p,width:U,height:_},I),c&&B.createElement(Xe,{dataSource:c,height:_,margin:p,width:U}),B.createElement(Ce,null,ae.map(function(e,t){var r=e.name,n=e.value;return B.createElement(be,{key:t,datum:{name:r,value:n},color:Z(T),x:ce(r),y:le(n),width:ce.bandwidth(),height:_-le(n),onClick:y,onMouseEnter:b,onMouseLeave:E,tooltip:R})})),B.createElement(xe,{axis:"x",axisTicks:W,orientation:"bottom",position:{x:0,y:_},scale:ce,toDate:ne}),B.createElement(xe,{axis:"y",axisTicks:G,orientation:"left",scale:le}))))},e.Combination=function(e){var i=e.aspectRatio,u=void 0===i?"16:9":i,c=e.data,l=e.dataSource,s=e.dateFormat,d=void 0===s?"%a %d":s,m=e.grid,h=e.height,v=void 0===h?void 0:h,p=e.horizontal,g=e.lineSeries,y=void 0===g?[]:g,x=e.lineType,b=void 0===x?"curveLinear":x,w=e.lineTypeOption,E=void 0===w?null:w,k=e.margin,C=void 0===k?ie:k,S=e.onClick,O=void 0===S?a:S,P=e.onMouseEnter,L=void 0===P?a:P,T=e.onMouseLeave,A=void 0===T?a:T,R=e.outlinedStyle,q=e.padding,M=void 0===q?.15:q,z=e.responsive,N=e.secondaryTheme,F=void 0===N?"vividCerise":N,j=e.stackedSeries,Y=void 0===j?[]:j,D=e.staticTooltip,W=e.theme,H=void 0===W?ue:W,G=e.title,J=e.tooltip,K=e.visibleTicks,Q=e.width,Z=void 0===Q?void 0:Q,_=e.xAxisChartLabel,te=e.xAxisLabelRotation,re=e.xAxisLabelRotationValue,ae=void 0===re?-50:re,ce=e.xAxisTicks,le=void 0===ce?10:ce,se=e.yAxisChartLabel,de=e.yAxisTicks,fe=void 0===de?5:de,pe=t.useRef(),ge=X(t.useState(oe),2),ye=ge[0],be=ye.width,we=ye.height,Ee=ge[1],ke=X(he(c),2),Ce=ke[0],Se=ke[1],Pe=I(Y)(ve(Se)),Ae=r.scaleBand().domain(Se.map(function(e){return e.name})).range([0,be]).padding(M),qe=r.scaleLinear().domain([0,ee(ne(Se,Y))]).range([we,0]),Me=o.line().curve(me(b,E)).x(function(e){var t=e.name;return Ae(t)+Ae.bandwidth()/2}).y(function(e){var t=e.value;return qe(t)}),ze=function(e,t){return e.map(function(e){return t.filter(function(t){return t.series===e})})}(y,Se);return mt({aspectRatio:u,graphHeight:v,graphWidth:Z,margin:C,responsive:z,setSize:Ee,svgRef:pe}),B.createElement(V.Provider,{value:{dateFormat:d,margin:C,node:pe.current,outlinedStyle:R,staticTooltip:D,visibleTicks:K,xAxisLabelRotation:te,xAxisLabelRotationValue:ae}},B.createElement(We,{size:{width:Z||be+C.left+C.right,height:v||we+C.top+C.bottom},ref:pe},B.createElement(Re,{margin:C},m&&B.createElement(Oe,{ref:function(e){return n.select(e).call($(p,Ae,we,qe,be,le,fe))}}),G&&B.createElement(He,{margin:C,width:be},G),_&&B.createElement(Le,{axis:"x",margin:C,width:be,height:we},_),se&&B.createElement(Le,{axis:"y",margin:C,width:be,height:we},se),l&&B.createElement(Xe,{dataSource:l,height:we,margin:C,width:be}),B.createElement(De,{data:Se,series:Pe,theme:H,x:Ae,y:qe,width:be,height:we,onClick:O,onMouseEnter:L,onMouseLeave:A,tooltip:J}),B.createElement(xe,{axis:"x",axisTicks:le,orientation:"bottom",position:{x:0,y:we},scale:Ae,toDate:Ce}),B.createElement(xe,{axis:"y",axisTicks:fe,orientation:"left",scale:qe}),ze.map(function(e,t){return B.createElement("g",{className:"".concat(f(e).series,"-layer"),key:t},B.createElement(Te,{chart:"combination",data:e,color:U.themes[F][t],d:Me(e),xScale:Ae,yScale:qe,margin:C,onClick:O,onMouseEnter:L,onMouseLeave:A,staticTooltip:D,svg:pe.current,tooltip:J}))}))))},e.StackedArea=function(e){var i=e.aspectRatio,d=void 0===i?"16:9":i,f=e.data,m=e.dataSource,h=e.dateFormat,v=void 0===h?"%a %d":h,p=e.grid,g=e.height,y=void 0===g?void 0:g,x=e.horizontal,b=e.lineType,w=void 0===b?"curveLinear":b,E=e.lineTypeOption,k=void 0===E?null:E,C=e.margin,O=void 0===C?ie:C,P=e.onClick,L=void 0===P?a:P,T=e.onMouseEnter,A=void 0===T?a:T,R=e.onMouseLeave,q=void 0===R?a:R,M=e.outlinedStyle,z=e.responsive,F=void 0!==z&&z,j=e.staticTooltip,Y=e.theme,D=void 0===Y?ue:Y,G=e.title,J=e.tooltip,K=e.visibleTicks,Q=e.width,Z=void 0===Q?void 0:Q,_=e.xAxisChartLabel,re=e.xAxisLabelRotation,ce=e.xAxisLabelRotationValue,le=void 0===ce?-50:ce,se=e.xAxisTicks,de=void 0===se?10:se,ge=e.yAxisChartLabel,ye=e.yAxisTicks,be=void 0===ye?5:ye,we=t.useRef(null),Ee=X(t.useState(oe),2),ke=Ee[0],Ce=ke.width,Se=ke.height,Pe=Ee[1],Te=X(he(f),3),Ae=Te[0],qe=Te[1],Me=Te[2];if(qe=function(e,t){return e.forEach(function(e){t.forEach(function(t){e.key===t.series&&(t.stackedValues=e[W],W+=1)}),W=0}),t}(I(ae(qe))(ve(qe)),qe),!Ae)throw new TypeError('StackedArea charts only accept valid dates in the "name" section of the dataset.');var ze,Be=r.scaleTime().domain((ze=qe.map(function(e){return e.name}),[te(ze),ee(ze)])).range([0,Ce]),Ne=r.scaleLinear().domain([0,ee(ne(qe))]).range([Se,0]),Fe=o.area().curve(me(w,k)).x(function(e){var t=e.name;return Be(t)}).y0(function(e){var t=e.stackedValues;return Ne(t[0])}).y1(function(e){var t=e.stackedValues;return Ne(t[1])}),je=Me.map(function(e){return Be(e)}),Ye=function(e,t){return u(S,fe(function(e,r){var n=X(e,2),a=(n[0],n[1]);return N({},t[r],a)}),s,c(l("name")))(e)}(qe,je);return mt({aspectRatio:d,graphHeight:y,graphWidth:Z,margin:O,responsive:F,setSize:Pe,svgRef:we}),B.createElement(V.Provider,{value:{dateFormat:v,margin:O,node:we.current,outlinedStyle:M,staticTooltip:j,visibleTicks:K,xAxisLabelRotation:re,xAxisLabelRotationValue:le}},B.createElement(We,{size:{width:Z||Ce+O.left+O.right,height:y||Se+O.top+O.bottom},ref:we},B.createElement(Re,{margin:O},p&&B.createElement(Oe,{ref:function(e){return n.select(e).call($(x,Be,Se,Ne,Ce,de,be))}}),G&&B.createElement(He,{margin:O,width:Ce},G),_&&B.createElement(Le,{axis:"x",margin:O,width:Ce,height:Se},_),ge&&B.createElement(Le,{axis:"y",margin:O,width:Ce,height:Se},ge),m&&B.createElement(Xe,{dataSource:m,height:Se,margin:O,width:Ce}),H(qe).map(function(e,t){var r=X(e,2),n=r[0],a=r[1];return B.createElement(pe,{area:Fe,dataPositions:je,datum:a,fillColor:U.themes[D][t],key:t,onClick:L,onMouseEnter:A,onMouseLeave:q,series:n,theme:D,tooltip:J,tooltipData:Ye})}),B.createElement(xe,{axis:"x",axisTicks:de,orientation:"bottom",position:{x:0,y:Se},scale:Be,toDate:Ae}),B.createElement(xe,{axis:"y",axisTicks:be,orientation:"left",scale:Ne}))))},e.toSeries=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return T(Object.keys(e).map(function(r){return Object.entries(e[r]).reduce(function(e,n){var a=X(n,2),i=a[0],o=a[1];return t.includes(i)||e.push({name:r,series:i,value:parseInt(o)}),e},[])}))}});
