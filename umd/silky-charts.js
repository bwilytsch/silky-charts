!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("d3-axis"),require("d3-scale"),require("d3-selection"),require("d3-time-format"),require("ramda/src/identity"),require("styled-components"),require("react-dom"),require("d3-shape"),require("ramda/src/all"),require("ramda/src/compose"),require("ramda/src/complement"),require("ramda/src/groupBy"),require("ramda/src/prop"),require("ramda/src/toPairs"),require("ramda/src/apply"),require("ramda/src/curry"),require("ramda/src/length"),require("ramda/src/uniq"),require("ramda/src/map"),require("ramda/src/max"),require("ramda/src/filter"),require("ramda/src/sum"),require("ramda/src/reduce"),require("ramda/src/values"),require("ramda/src/always"),require("ramda/src/cond"),require("ramda/src/equals"),require("ramda/src/T"),require("d3-array"),require("ramda/src/flatten"),require("ramda/src/omit"),require("ramda/src/mergeAll"),require("ramda/src/splitEvery"),require("ramda/src/head"),require("ramda/src/last"),require("ramda/src/type")):"function"==typeof define&&define.amd?define(["exports","react","d3-axis","d3-scale","d3-selection","d3-time-format","ramda/src/identity","styled-components","react-dom","d3-shape","ramda/src/all","ramda/src/compose","ramda/src/complement","ramda/src/groupBy","ramda/src/prop","ramda/src/toPairs","ramda/src/apply","ramda/src/curry","ramda/src/length","ramda/src/uniq","ramda/src/map","ramda/src/max","ramda/src/filter","ramda/src/sum","ramda/src/reduce","ramda/src/values","ramda/src/always","ramda/src/cond","ramda/src/equals","ramda/src/T","d3-array","ramda/src/flatten","ramda/src/omit","ramda/src/mergeAll","ramda/src/splitEvery","ramda/src/head","ramda/src/last","ramda/src/type"],t):t((e=e||self).silkyCharts={},e.React,e.d3Axis,e.d3Scale,e.d3Selection,e.d3TimeFormat,e.identity,e.styled,e.ReactDOM,e.d3Shape,e.all,e.compose,e.complement,e.groupBy,e.prop,e.toPairs,e.apply,e.curry,e.length,e.uniq,e.map,e.max,e.filter,e.sum,e.reduce,e.values,e.always,e.cond,e.equals,e.T,e.d3Array,e.flatten,e.omit,e.mergeAll,e.splitEvery,e.head,e.last,e.type)}(this,function(e,t,r,n,a,i,o,u,c,l,s,d,f,m,v,h,p,g,y,w,x,b,E,k,S,C,O,N,L,q,z,P,M,D,A,T,R,B){"use strict";var j="default"in t?t.default:t;function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Y(e,t,r[t])})}return e}function V(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Z(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function U(){var e=V([""]);return U=function(){return e},e}o=o&&o.hasOwnProperty("default")?o.default:o,u=u&&u.hasOwnProperty("default")?u.default:u,s=s&&s.hasOwnProperty("default")?s.default:s,d=d&&d.hasOwnProperty("default")?d.default:d,f=f&&f.hasOwnProperty("default")?f.default:f,m=m&&m.hasOwnProperty("default")?m.default:m,v=v&&v.hasOwnProperty("default")?v.default:v,h=h&&h.hasOwnProperty("default")?h.default:h,p=p&&p.hasOwnProperty("default")?p.default:p,g=g&&g.hasOwnProperty("default")?g.default:g,y=y&&y.hasOwnProperty("default")?y.default:y,w=w&&w.hasOwnProperty("default")?w.default:w,x=x&&x.hasOwnProperty("default")?x.default:x,b=b&&b.hasOwnProperty("default")?b.default:b,E=E&&E.hasOwnProperty("default")?E.default:E,k=k&&k.hasOwnProperty("default")?k.default:k,S=S&&S.hasOwnProperty("default")?S.default:S,C=C&&C.hasOwnProperty("default")?C.default:C,O=O&&O.hasOwnProperty("default")?O.default:O,N=N&&N.hasOwnProperty("default")?N.default:N,L=L&&L.hasOwnProperty("default")?L.default:L,q=q&&q.hasOwnProperty("default")?q.default:q,P=P&&P.hasOwnProperty("default")?P.default:P,M=M&&M.hasOwnProperty("default")?M.default:M,D=D&&D.hasOwnProperty("default")?D.default:D,A=A&&A.hasOwnProperty("default")?A.default:A,T=T&&T.hasOwnProperty("default")?T.default:T,R=R&&R.hasOwnProperty("default")?R.default:R,B=B&&B.hasOwnProperty("default")?B.default:B;var $=u.g.attrs(function(e){var t=e.axis,r=e.position;return{className:"axis-".concat(t),transform:r&&"translate(".concat(r.x,", ").concat(r.y,")")}})(U()),H=function(e){var r=e.color,n=e.datum,a=e.height,i=e.onClick,o=e.onMouseEnter,u=e.onMouseLeave,l=e.tooltip,s=e.width,d=e.x,f=e.y,m=W(t.useState({pageX:null,pageY:null,show:!1}),2),v=m[0],h=m[1];return j.createElement(t.Fragment,null,j.createElement(tt,{chart:"bar",fillColor:r,onClick:i,onMouseEnter:function(e){h(function(e){return I({},e,{show:!0})}),o(e)},onMouseLeave:function(e){h(function(e){return I({},e,{show:!1})}),u(e)},onMouseMove:function(e){e.persist();var t=e.pageX,r=e.pageY;h(function(e){return I({},e,{pageX:t,pageY:r})})},position:{x:d,y:f},size:{width:s,height:a}}),l&&v.show&&c.createPortal(j.createElement(dt,{pageX:v.pageX,pageY:v.pageY},j.createElement(Et,X({color:r},n))),document.body))},_="rgb(255, 255, 255)",G="rgb(220, 220, 220)",J={monteCarlo:["rgb(8,104,172)","rgb(67,162,202)","rgb(123,204,196)","rgb(186,228,188)","rgb(240,249,232)"],vividCerise:["rgb(152,0,67)","rgb(221,28,119)","rgb(223,101,176)","rgb(215,181,216)","rgb(241,238,246)"],sundown:["rgb(122,1,119)","rgb(197,27,138)","rgb(247,104,161)","rgb(251,180,185)","rgb(254,235,226)"],madang:["rgb(0,104,55)","rgb(49,163,84)","rgb(120,198,121)","rgb(194,230,153)","rgb(255,255,204)"],curiousBlue:["rgb(37,52,148)","rgb(44,127,184)","rgb(65,182,196)","rgb(161,218,180)","rgb(255,255,204)"]},K={white:_,black:"rgb(33, 33, 33)",grey:G,themes:J},Q={top:40,right:50,bottom:50,left:50},ee={width:0,height:0,isSizeSet:!1},te="monteCarlo",re={curveBasis:l.curveBasis,curveBasisClosed:l.curveBasisClosed,curveBasisOpen:l.curveBasisOpen,curveBundle:l.curveBundle,curveCardinal:l.curveCardinal,curveCardinalClosed:l.curveCardinalClosed,curveCardinalOpen:l.curveCardinalOpen,curveCatmullRom:l.curveCatmullRom,curveCatmullRomClosed:l.curveCatmullRomClosed,curveCatmullRomOpen:l.curveCatmullRomOpen,curveLinear:l.curveLinear,curveLinearClosed:l.curveLinearClosed,curveMonotoneX:l.curveMonotoneX,curveMonotoneY:l.curveMonotoneY,curveNatural:l.curveNatural,curveStep:l.curveStep,curveStepAfter:l.curveStepAfter,curveStepBefore:l.curveStepBefore};function ne(){var e=V(["\n  fill: ",";\n  stroke: ",";\n  stroke-width: ",";\n"]);return ne=function(){return e},e}var ae=u.circle.attrs(function(e){return{className:e.chart}})(ne(),_,function(e){return e.strokeColor},3);function ie(){var e=V([""]);return ie=function(){return e},e}var oe=u.g.attrs({className:"dataviz-layer"})(ie());var ue=f(isNaN),ce=d(ue,function(e){var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===F(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fpAk2"),console.warn((new Error).stack)),new Date(NaN))}),le={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},se=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,de=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fe=/^([+-])(\d{2})(?::?(\d{2}))?$/,me=function(e){var t=new Date(e.getTime()),r=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*r+t.getTime()%6e4},ve=[31,null,31,30,31,30,31,31,30,31,30,31],he=function(e){return e%400==0||e%4==0&&e%100},pe=function(e,t){if(null===t)return null;var r=e.match(se);if(!r)return null;var n=!!r[4],a=ge(r[1]),i=ge(r[2])-1,o=ge(r[3]),u=ge(r[4])-1,c=ge(r[5])-1;if(n)return function(e,t,r){return!(t<0||t>52||r<0||r>6)}(0,u,c)?we(t,u,c):new Date(NaN);var l=new Date(0);return function(e,t,r){return!(t<0||t>11||r<1||r>(ve[t]||(he(e)?29:28)))}(t,i,o)&&function(e,t){return!(t<1||t>(he(e)?366:365))}(t,a)?(l.setUTCFullYear(t,i,Math.max(a,o)),l):new Date(NaN)},ge=function(e){return e?parseInt(e):1},ye=function(e){return e&&parseFloat(e.replace(",","."))||0},we=function(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=7*(t||0)+(r||0)+1-(n.getUTCDay()||7);return n.setUTCDate(n.getUTCDate()+a),n},xe=s(d(ce,function(e,t){var r=t||{},n=null==r.additionalDigits?2:function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(r.additionalDigits);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var a,i=function(e){var t,r={},n=e.split(le.dateTimeDelimiter);if(/:/.test(n[0])?(r.date=null,t=n[0]):(r.date=n[0],t=n[1],le.timeZoneDelimiter.test(r.date)&&(r.date=e.split(le.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length))),t){var a=le.timezone.exec(t);a?(r.time=t.replace(a[1],""),r.timezone=a[1]):r.time=t}return r}(e);if(i.date){var o=function(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:null};var a=n[1]&&parseInt(n[1]),i=n[2]&&parseInt(n[2]);return{year:null==i?a:100*i,restDateString:e.slice((n[1]||n[2]).length)}}(i.date,n);a=pe(o.restDateString,o.year)}if(isNaN(a)||!a)return new Date(NaN);var u,c=a.getTime(),l=0;if(i.time&&(l=function(e){var t=e.match(de);if(!t)return null;var r=ye(t[1]),n=ye(t[2]),a=ye(t[3]);return function(e,t,r){return!(r<0||r>=60||t<0||t>=60||e<0||e>=25)}(r,n,a)?r%24*36e5+6e4*n+1e3*a:NaN}(i.time),isNaN(l)))return new Date(NaN);if(i.timezone){if(u=function(e){if("Z"===e)return 0;var t=e.match(fe);if(!t)return 0;var r="+"===t[1]?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return function(e,t){return!(t<0||t>59)}(0,a)?r*(36e5*n+6e4*a):NaN}(i.timezone),isNaN(u))return new Date(NaN)}else{var s=c+l,d=new Date(s);u=me(d);var f=new Date(s);f.setDate(d.getDate()+1);var m=me(f)-u;m>0&&(u+=m)}return new Date(c+l+u)})),be=0,Ee=function(e){return l.stack().keys(e).order(l.stackOrderNone).offset(l.stackOffsetNone)},ke=d(h,m(v("series"))),Se=g(function(e,t,r){return function(){var n;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var u=e&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,e||p(r,i)},t),u&&p(r,i),n}}}),Ce=Se(!0),Oe=Se(!1)(100),Ne=(Ce(100),function(e,t,n,a,i,o,u){return e?r.axisBottom().scale(t).tickSize(n,0,0).ticks(o).tickFormat(""):r.axisLeft().scale(a).tickSize(-i,0,0).ticks(u).tickFormat("")}),Le=function(e){return J[e][2]},qe=function(e){return"rgb(".concat(e.split(/\D/).filter(function(e){return e}).map(function(e){var t=parseInt(e)+-20;return t>255?t=255:t<0&&(t=0),t}).join(", "),")")},ze=0,Pe=function(e){if(!e)return null;var t="silky-charts_".concat(e,"-").concat(ze);return ze+=1,t},Me=d(y,w,x(v("name"))),De=function(e){return e.reduce(b,0)},Ae=function(e,t){var r=t.name,n=t.value;return e[r]=e[r]?[].concat(Z(e[r]),[n]):[n],e},Te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return d(x(k),C,S(Ae,{}),t.length?E(function(e){var r=e.series;return t.includes(r)}):o)(e)},Re=d(w,x(v("series"))),Be=function(e,t,r,n){var a=r.top,i=r.right,o=r.bottom,u=r.left,c=W(n.split(":"),2),l=c[0],s=c[1],d=e||640,f=t||d/l*s;return e&&t?{width:e-u-i,height:t-a-o}:{width:(e?d:f/s*l)-u-i,height:(t?f:d/l*s)-a-o}},je=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t/Me(e)/1.8;return n.scaleTime().domain(z.extent(e,function(e){return e.name})).rangeRound(r?[a,t-a]:[0,t])},Fe=function(e,t){return n.scaleBand().domain(e.map(function(e){return e.name})).range([0,t]).padding(.1)},Ye=function(e,t){return n.scaleLinear().domain([0,e]).range([t,0])},Xe=function(e,t){var r=t<0;a.selectAll("#".concat(e," .axis-x .tick text")).attr("text-anchor",r?"end":"start").attr("transform","translate(".concat(r?-12:12,", 6) rotate(").concat(t,")"))},Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return N([[L("curveBundle"),function(){return re[e].beta(t)}],[L("curveCardinalOpen"),function(){return re[e].tension(t)}],[L("curveCatmullRomOpen"),function(){return re[e].alpha(t)}],[q,function(){return re[e]}]])(e)},Ve=function(e){var t=xe(e.map(function(e){return e.name}));return[t,t?e.map(function(e){return I({},e,{name:new Date(e.name)})}):e]};d(P,x(function(e){return d(x(function(t){var r=W(t,2),n=r[0],a=r[1];return{name:e.name,series:n,value:a}}),h,M(["name"]))(e)}));var We=function(e){return d(x(D),A(Re(e).length),x(function(e){return Y({name:e.name},e.series,e.value)}))(e)};function Ze(){var e=V(["\n  path {\n    stroke: transparent;\n  }\n\n  line {\n    stroke: ",";\n  }\n"]);return Ze=function(){return e},e}var Ue=u.g.attrs(function(){return{className:"grid"}})(Ze(),K.grey);function $e(){var e=V(["\n  text-anchor: middle;\n  transform: ",";\n"]);return $e=function(){return e},e}var He=u.text.attrs(function(e){var t=e.axis,r=e.margin,n=e.width,a=e.height;return{className:"".concat(t,"-axis-label"),x:"x"===t?n/2:0-a/2,y:"x"===t?a+r.bottom:0-r.left/1.5}})($e(),function(e){return"y"===e.axis&&"rotate(-90deg)"}),_e=function(e){var r=e.chart,n=e.color,a=e.d,i=e.data,o=e.onClick,u=e.onMouseEnter,l=e.onMouseLeave,s=e.tooltip,d=e.xScale,f=e.yScale,m=W(t.useState({pageX:null,pageY:null,show:!1}),2),v=m[0],h=m[1];return j.createElement(t.Fragment,null,j.createElement(Qe,{chart:r,d:a,className:"line-path",strokeColor:n}),j.createElement("g",{className:"line-dot-group"},i.map(function(e,t){var r=e.name,a=e.value;return j.createElement(ae,{key:t,chart:"bar-line",strokeColor:n,cx:d(r)+d.bandwidth()/2,cy:f(a),r:4,onClick:o,onMouseEnter:function(e){h(function(e){return I({},e,{show:!0})}),u(e)},onMouseLeave:function(e){h(function(e){return I({},e,{show:!1})}),l(e)},onMouseMove:function(e){e.persist();var t=e.pageX,n=e.pageY;h(function(e){return I({},e,{name:r,pageX:t,pageY:n,value:a})})}})})),s&&v.show&&c.createPortal(j.createElement(dt,{pageX:v.pageX,pageY:v.pageY},j.createElement(Et,{color:n,name:v.name,value:v.value})),document.body))};function Ge(){var e=V([""]);return Ge=function(){return e},e}var Je=u.g.attrs(function(e){var t=e.margin,r=t.left,n=t.top;return{className:"silky-charts-container",transform:"translate(".concat(r,", ").concat(n,")")}})(Ge());function Ke(){var e=V(["\n  fill: ",";\n  stroke: ",";\n  stroke-width: ",";\n  pointer-events: ","\n\n  &:hover {\n    fill: ",";\n  }\n"]);return Ke=function(){return e},e}var Qe=u.path.attrs(function(e){return{className:e.chart}})(Ke(),function(e){return e.fillColor||"none"},function(e){return e.strokeColor||"none"},3,function(e){return"bar-line"===e.chart&&"none"},function(e){var t=e.chart,r=e.fillColor;return"stacked-area"===t&&qe(r)});function et(){var e=V(["\n  fill: ",";\n\n  &:hover {\n    fill: ",";\n  }\n"]);return et=function(){return e},e}var tt=u.rect.attrs(function(e){var t=e.chart,r=e.position,n=r.x,a=r.y,i=e.size;return{className:t,height:i.height,width:i.width,x:n,y:a}})(et(),function(e){return e.fillColor},function(e){var t=e.fillColor;return qe(t)});function rt(){var e=V(["\n  font-size: 0.8em;\n  font-style: italic;\n  text-anchor: end;\n"]);return rt=function(){return e},e}var nt=u.text.attrs(function(e){var t=e.height,r=e.margin;return{className:"chart-source",x:e.width,y:t+r.bottom/1.5}})(rt()),at=function(e){e.data;var t=e.height,r=e.onClick,n=e.onMouseEnter,a=e.onMouseLeave,i=e.series,o=e.theme,u=e.tooltip,c=(e.width,e.x),l=e.y;return i.map(function(e){return j.createElement("g",{key:e.index,className:"".concat(e.key,"-layer")},e.map(function(i,s){var d=R(i)-T(i),f=i.data.name;return j.createElement(H,{key:s,color:K.themes[o][e.index],datum:{name:f,value:d},height:t-l(d),onClick:r,onMouseEnter:n,onMouseLeave:a,tooltip:u,width:c.bandwidth(),x:c(f),y:l(R(i))})}))})};function it(){var e=V(["\n  height: ","px;\n  width: ","px;\n"]);return it=function(){return e},e}var ot=u.svg.attrs(function(e){return{id:e.identifier,className:"silky-charts"}})(it(),function(e){return e.size.height},function(e){return e.size.width});function ut(){var e=V(["\n  font-size: 1.5em;\n  text-anchor: middle;\n"]);return ut=function(){return e},e}var ct=u.text.attrs(function(e){e.height;var t=e.margin;return{className:"chart-title",x:e.width/2,y:0-t.top/2}})(ut());function lt(){var e=V(["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 4px;\n  box-shadow: 2px 2px 4px 0px rgba(0, 0, 0, 0.75);\n  padding: 10px;\n  pointer-events: none;\n  position: absolute;\n  text-align: center;\n  left: 0;\n  top: 0;\n  z-index: 10;\n"]);return lt=function(){return e},e}var st=u.div.attrs(function(e){var t=e.pageX,r=e.pageY,n=e.width,a=e.height;return{className:"silky-charts-tooltip",style:{left:"".concat(t-n/2,"px"),top:"".concat(r-a-10,"px")}}})(lt(),_,G),dt=function(e){var r=t.useRef(),n=W(t.useState({width:0,height:0}),2),a=n[0],i=n[1];return t.useEffect(function(){var e=r.current,t=e.offsetWidth,n=e.offsetHeight;i({width:t,height:n})},[]),j.createElement(st,X({ref:r},a,e),e.children)};function ft(){var e=V(["\n  font-size: 1.2em;\n"]);return ft=function(){return e},e}function mt(){var e=V(["\n  margin-bottom: 4px;\n"]);return mt=function(){return e},e}function vt(){var e=V(["\n  align-items: flex-start;\n  display: flex;\n  flex-direction: column;\n"]);return vt=function(){return e},e}function ht(){var e=V(["\n  background-color: ",";\n  margin-right: 10px;\n  padding: 0 4px;\n"]);return ht=function(){return e},e}function pt(){var e=V(["\n  display: flex;\n"]);return pt=function(){return e},e}var gt=u.div(pt()),yt=u.span(ht(),function(e){return e.swatchColor||G}),wt=u.div(vt()),xt=u.span(mt()),bt=u.span(ft()),Et=function(e){var t=e.color,r=(e.dateFormat,e.name),n=e.value;return j.createElement(gt,null,j.createElement(yt,{swatchColor:t}),j.createElement(wt,null,j.createElement(xt,null,("Date"===B(r)&&ce(r),r)),j.createElement(bt,null,n)))};e.Bar=function(e){var u=e.aspectRatio,c=void 0===u?"16:9":u,l=e.title,s=e.data,d=e.dateFormat,f=void 0===d?"%a %d":d,m=e.grid,v=e.height,h=void 0===v?void 0:v,p=e.horizontal,g=e.margin,y=void 0===g?Q:g,w=e.onClick,x=void 0===w?o:w,b=e.onMouseEnter,E=void 0===b?o:b,k=e.onMouseLeave,S=void 0===k?o:k,C=e.responsive,O=e.theme,N=void 0===O?te:O,L=e.tooltip,q=e.sourceLabel,z=e.width,P=void 0===z?void 0:z,M=e.xAxisChartLabel,D=e.xAxisLabelRotation,A=e.xAxisLabelRotationValue,T=void 0===A?-50:A,R=e.xAxisTicks,B=void 0===R?5:R,F=e.padding,Y=void 0===F?.1:F,X=e.yAxisChartLabel,V=e.yAxisTicks,Z=void 0===V?5:V,U=t.useRef(),_=W(t.useState(Pe("bar")),1)[0],G=i.timeFormat(f),J=W(t.useState(ee),2),K=J[0],re=K.width,ne=K.height,ae=K.isSizeSet,ie=J[1],ue=W(Ve(s),2),ce=ue[0],le=ue[1],se=n.scaleBand().domain(le.map(function(e){return e.name})).range([0,re]).padding(Y),de=n.scaleLinear().domain([0,De(le.map(function(e){return e.value}))]).range([ne,0]),fe=function(){var e=U.current.parentElement.offsetWidth;!P&&!h||ae?e!==P-(y.left+y.right)&&ie(I({},Be(e,void 0,y,c),{isSizeSet:!0})):ie(I({},Be(P,h,y,c),{isSizeSet:!0}))},me=Oe(fe)();return t.useEffect(function(){return fe(),C&&window.addEventListener("resize",me),function(){C&&window.removeEventListener("resize",me)}},[]),j.createElement(ot,{identifier:_,size:{width:P||re+y.left+y.right,height:h||ne+y.top+y.bottom},ref:U},j.createElement(Je,{margin:y},m&&j.createElement(Ue,{ref:function(e){return a.select(e).call(Ne(p,se,ne,de,re,B,Z))}}),l&&j.createElement(ct,{margin:y,width:re,height:ne},l),M&&j.createElement(He,{axis:"x",margin:y,width:re,height:ne},M),X&&j.createElement(He,{axis:"y",margin:y,width:re,height:ne},X),q&&j.createElement(nt,{margin:y,width:re,height:ne},q),j.createElement(oe,null,le.map(function(e,t){var r=e.name,n=e.value;return j.createElement(H,{key:t,datum:{name:r,value:n},color:Le(N),x:se(r),y:de(n),width:se.bandwidth(),height:ne-de(n),onClick:x,onMouseEnter:E,onMouseLeave:S,tooltip:L})})),j.createElement($,{axis:"x",position:{x:0,y:ne},ref:function(e){a.select(e).call(r.axisBottom(se).ticks(B).tickFormat(ce?G:null)),D&&Xe(_,T)}}),j.createElement($,{axis:"y",ref:function(e){return a.select(e).call(r.axisLeft(de).ticks(Z))}})))},e.BarLine=function(e){var u=e.aspectRatio,c=void 0===u?"16:9":u,s=e.title,d=e.data,f=e.dateFormat,m=void 0===f?"%a %d":f,v=e.grid,h=e.height,p=void 0===h?void 0:h,g=e.horizontal,y=e.lineSeries,w=void 0===y?[]:y,x=e.lineType,b=void 0===x?"curveLinear":x,E=e.lineTypeOption,k=void 0===E?null:E,S=e.margin,C=void 0===S?Q:S,O=e.onClick,N=void 0===O?o:O,L=e.onMouseEnter,q=void 0===L?o:L,z=e.onMouseLeave,P=void 0===z?o:z,M=e.padding,D=void 0===M?.1:M,A=e.responsive,R=e.secondaryTheme,B=void 0===R?"vividCerise":R,F=e.stackedSeries,Y=void 0===F?[]:F,X=e.theme,V=void 0===X?te:X,Z=e.tooltip,U=e.sourceLabel,H=e.width,_=void 0===H?void 0:H,G=e.xAxisChartLabel,J=e.xAxisLabelRotation,re=e.xAxisLabelRotationValue,ne=void 0===re?-50:re,ae=e.xAxisTicks,ie=void 0===ae?5:ae,oe=e.yAxisChartLabel,ue=e.yAxisTicks,ce=void 0===ue?5:ue,le=t.useRef(),se=W(t.useState(Pe("bar-line")),1)[0],de=i.timeFormat(m),fe=W(t.useState(ee),2),me=fe[0],ve=me.width,he=me.height,pe=me.isSizeSet,ge=fe[1],ye=W(Ve(d),2),we=ye[0],xe=ye[1],be=Ee(Y)(We(xe)),ke=n.scaleBand().domain(xe.map(function(e){return e.name})).range([0,ve]).padding(D),Se=n.scaleLinear().domain([0,De(Te(xe,Y))]).range([he,0]),Ce=l.line().curve(Ie(b,k)).x(function(e){var t=e.name;return ke(t)+ke.bandwidth()/2}).y(function(e){var t=e.value;return Se(t)}),Le=function(e,t){return e.map(function(e){return t.filter(function(t){return t.series===e})})}(w,xe),qe=function(){var e=le.current.parentElement.offsetWidth;!_&&!p||pe?e!==_-(C.left+C.right)&&ge(I({},Be(e,void 0,C,c),{isSizeSet:!0})):ge(I({},Be(_,p,C,c),{isSizeSet:!0}))},ze=Oe(qe)();return t.useEffect(function(){return qe(),A&&window.addEventListener("resize",ze),function(){A&&window.removeEventListener("resize",ze)}},[]),j.createElement(ot,{identifier:se,size:{width:_||ve+C.left+C.right,height:p||he+C.top+C.bottom},ref:le},j.createElement(Je,{margin:C},v&&j.createElement(Ue,{ref:function(e){return a.select(e).call(Ne(g,ke,he,Se,ve,ie,ce))}}),s&&j.createElement(ct,{margin:C,width:ve},s),G&&j.createElement(He,{axis:"x",margin:C,width:ve,height:he},G),oe&&j.createElement(He,{axis:"y",margin:C,width:ve,height:he},oe),U&&j.createElement(nt,{margin:C,width:ve,height:he},U),j.createElement(at,{data:xe,series:be,theme:V,x:ke,y:Se,width:ve,height:he,onClick:N,onMouseEnter:q,onMouseLeave:P,tooltip:Z}),j.createElement($,{axis:"x",position:{x:0,y:he},ref:function(e){a.select(e).call(r.axisBottom(ke).ticks(ie).tickFormat(we?de:null)),J&&Xe(se,ne)}}),j.createElement($,{axis:"y",ref:function(e){return a.select(e).call(r.axisLeft(Se).ticks(ce))}}),Le.map(function(e,t){return j.createElement("g",{className:"".concat(T(e).series,"-layer"),key:t},j.createElement(_e,{chart:"bar-line",data:e,color:K.themes[B][t],d:Ce(e),xScale:ke,yScale:Se,onClick:N,onMouseEnter:q,onMouseLeave:P,tooltip:Z}))})))},e.StackedArea=function(e){var n=e.aspectRatio,i=void 0===n?"16:9":n,u=e.data,c=e.grid,s=e.height,d=void 0===s?void 0:s,f=e.horizontal,m=(e.lineSeries,e.lineType),v=void 0===m?"curveLinear":m,h=e.lineTypeOption,p=void 0===h?null:h,g=e.margin,y=void 0===g?Q:g,w=e.onClick,x=void 0===w?o:w,b=e.onMouseEnter,E=void 0===b?o:b,k=e.onMouseLeave,S=void 0===k?o:k,C=e.responsive,q=void 0!==C&&C,z=e.theme,P=void 0===z?te:z,M=e.ticks,D=void 0===M?5:M,A=e.width,T=void 0===A?void 0:A,R=e.xAxisChartLabel,B=e.xAxisLabelRotation,F=e.xAxisLabelRotationValue,Y=void 0===F?-50:F,X=e.yAxisChartLabel,V=t.useRef(),Z=W(t.useState(Pe("stacked-area")),1)[0],U=W(t.useState(ee),2),H=U[0],_=H.width,G=H.height,J=H.isSizeSet,re=U[1],ne=W(t.useMemo(function(){return Ve(u)},u),2),ae=ne[0],ie=ne[1],oe=function(e,t,r,n){return N([[L("time"),O(je(t,r,n))],[L("band"),O(Fe(t,r))],[o]])(e)}(ae?"time":"band",ie=t.useMemo(function(){return function(e,t){return e.forEach(function(e){t.forEach(function(t){e.key===t.series&&(t.stackedValues=e[be],be+=1)}),be=0}),t}(Ee(Re(ie))(We(ie)),ie)},ie),_),ue=function(e,t,r){return N([[L("linear"),O(Ye(t,r))],[o]])(e)}("linear",De(Te(ie)),G),ce=l.area().curve(Ie(v,p)).x(function(e){var t=e.name;return oe(t)}).y0(function(e){var t=e.stackedValues;return ue(t[0])}).y1(function(e){var t=e.stackedValues;return ue(t[1])}),le=function(){var e=V.current.parentElement.offsetWidth;!T&&!d||J?e!==T-(y.left+y.right)&&re(I({},Be(e,void 0,y,i),{isSizeSet:!0})):re(I({},Be(T,d,y,i),{isSizeSet:!0}))},se=Oe(le)();return t.useEffect(function(){return le(),q&&window.addEventListener("resize",se),function(){q&&window.removeEventListener("resize",se)}},[]),j.createElement(ot,{identifier:Z,size:{width:T||_+y.left+y.right,height:d||G+y.top+y.bottom},ref:V},j.createElement("g",{className:"silky-charts-container",transform:"translate(".concat(y.left,", ").concat(y.top,")")},c&&j.createElement(Ue,{ref:function(e){return a.select(e).call(Ne(f,oe,G,ue,_,D))}}),R&&j.createElement(He,{axis:"x",margin:y,width:_,height:G},R),X&&j.createElement(He,{axis:"y",margin:y,width:_,height:G},X),ke(ie).map(function(e,t){var r,n=W(e,2),a=n[0],i=n[1];return j.createElement("g",{className:"".concat((r=a,r.replace(/ /g,"-").toLowerCase()),"-layer"),key:t},j.createElement(Qe,{chart:"stacked-area",fillColor:K.themes[P][t],d:ce(i),strokeWidth:0,onClick:x,onMouseEnter:E,onMouseLeave:S}))}),j.createElement($,{axis:"x",position:{x:0,y:G},ref:function(e){a.select(e).call(r.axisBottom(oe)),B&&Xe(Z,Y)}}),j.createElement($,{axis:"y",ref:function(e){return a.select(e).call(r.axisLeft(ue).ticks(D))}})))}});
