!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react"),require("ramda/src/identity"),require("d3-axis"),require("d3-scale"),require("d3-selection"),require("d3-time-format"),require("styled-components"),require("react-dom"),require("d3-shape"),require("ramda/src/all"),require("ramda/src/compose"),require("date-fns"),require("ramda/src/groupBy"),require("ramda/src/prop"),require("ramda/src/toPairs"),require("ramda/src/apply"),require("ramda/src/curry"),require("color"),require("ramda/src/length"),require("ramda/src/uniq"),require("ramda/src/map"),require("ramda/src/max"),require("ramda/src/filter"),require("ramda/src/sum"),require("ramda/src/reduce"),require("ramda/src/values"),require("ramda/src/always"),require("ramda/src/cond"),require("ramda/src/equals"),require("ramda/src/T"),require("d3-array"),require("ramda/src/flatten"),require("ramda/src/omit"),require("ramda/src/mergeAll"),require("ramda/src/splitEvery"),require("ramda/src/head"),require("ramda/src/last"),require("ramda/src/type")):"function"==typeof define&&define.amd?define(["exports","react","ramda/src/identity","d3-axis","d3-scale","d3-selection","d3-time-format","styled-components","react-dom","d3-shape","ramda/src/all","ramda/src/compose","date-fns","ramda/src/groupBy","ramda/src/prop","ramda/src/toPairs","ramda/src/apply","ramda/src/curry","color","ramda/src/length","ramda/src/uniq","ramda/src/map","ramda/src/max","ramda/src/filter","ramda/src/sum","ramda/src/reduce","ramda/src/values","ramda/src/always","ramda/src/cond","ramda/src/equals","ramda/src/T","d3-array","ramda/src/flatten","ramda/src/omit","ramda/src/mergeAll","ramda/src/splitEvery","ramda/src/head","ramda/src/last","ramda/src/type"],r):r((e=e||self).silkyCharts={},e.React,e.identity,e.d3Axis,e.d3Scale,e.d3Selection,e.d3TimeFormat,e.styled,e.ReactDOM,e.d3Shape,e.all,e.compose,e.dateFns,e.groupBy,e.prop,e.toPairs,e.apply,e.curry,e.color,e.length,e.uniq,e.map,e.max,e.filter,e.sum,e.reduce,e.values,e.always,e.cond,e.equals,e.T,e.d3Array,e.flatten,e.omit,e.mergeAll,e.splitEvery,e.head,e.last,e.type)}(this,function(e,r,t,n,a,i,o,u,c,s,l,d,f,m,v,h,p,g,y,b,x,w,E,k,O,C,S,L,q,M,P,z,A,B,R,N,T,j,X){"use strict";var Y="default"in r?r.default:r;function F(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function V(){return(V=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function D(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.forEach(function(r){F(e,r,t[r])})}return e}function W(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}function I(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=[],n=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(n=(o=u.next()).done)&&(t.push(o.value),!r||t.length!==r);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return t}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function H(e){return function(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(){var e=W([""]);return _=function(){return e},e}t=t&&t.hasOwnProperty("default")?t.default:t,u=u&&u.hasOwnProperty("default")?u.default:u,l=l&&l.hasOwnProperty("default")?l.default:l,d=d&&d.hasOwnProperty("default")?d.default:d,m=m&&m.hasOwnProperty("default")?m.default:m,v=v&&v.hasOwnProperty("default")?v.default:v,h=h&&h.hasOwnProperty("default")?h.default:h,p=p&&p.hasOwnProperty("default")?p.default:p,g=g&&g.hasOwnProperty("default")?g.default:g,y=y&&y.hasOwnProperty("default")?y.default:y,b=b&&b.hasOwnProperty("default")?b.default:b,x=x&&x.hasOwnProperty("default")?x.default:x,w=w&&w.hasOwnProperty("default")?w.default:w,E=E&&E.hasOwnProperty("default")?E.default:E,k=k&&k.hasOwnProperty("default")?k.default:k,O=O&&O.hasOwnProperty("default")?O.default:O,C=C&&C.hasOwnProperty("default")?C.default:C,S=S&&S.hasOwnProperty("default")?S.default:S,L=L&&L.hasOwnProperty("default")?L.default:L,q=q&&q.hasOwnProperty("default")?q.default:q,M=M&&M.hasOwnProperty("default")?M.default:M,P=P&&P.hasOwnProperty("default")?P.default:P,A=A&&A.hasOwnProperty("default")?A.default:A,B=B&&B.hasOwnProperty("default")?B.default:B,R=R&&R.hasOwnProperty("default")?R.default:R,N=N&&N.hasOwnProperty("default")?N.default:N,T=T&&T.hasOwnProperty("default")?T.default:T,j=j&&j.hasOwnProperty("default")?j.default:j,X=X&&X.hasOwnProperty("default")?X.default:X;var G=u.g.attrs(function(e){var r=e.axis,t=e.position;return{className:"axis-".concat(r),transform:t&&"translate(".concat(t.x,", ").concat(t.y,")")}})(_()),J=function(e){var t=e.color,n=e.datum,a=e.x,i=e.y,o=e.width,u=e.height,s=e.onClick,l=e.onMouseEnter,d=e.onMouseLeave,f=e.tooltip,m=I(r.useState({pageX:null,pageY:null,show:!1}),2),v=m[0],h=m[1];return Y.createElement(r.Fragment,null,Y.createElement(Ie,{chart:"bar",position:{x:a,y:i},size:{width:o,height:u},fillColor:t,onClick:s,onMouseEnter:function(e){h(function(e){return D({},e,{show:!0})}),l(e)},onMouseLeave:function(e){h(function(e){return D({},e,{show:!1})}),d(e)},onMouseMove:function(e){e.persist();var r=e.pageX,t=e.pageY;h(function(e){return D({},e,{pageX:r,pageY:t})})}}),f&&v.show&&c.createPortal(Y.createElement(Qe,{pageX:v.pageX,pageY:v.pageY},Y.createElement(ur,V({color:t},n))),document.body))},K="rgb(255, 255, 255)",Q="rgb(220, 220, 220)",U={red:{base:["rgb(127, 29, 24)","rgb(255, 131, 124)","rgb(255, 59, 48)","rgb(127, 66, 62)","rgb(204, 47, 38)"],ref:"rgb(48, 255, 128)"},orange:{base:["rgb(127, 74, 0)","rgb(255, 181, 76)","rgb(255, 149, 0)","rgb(127, 90, 38)","rgb(204, 119, 0)"],ref:"rgb(0, 156, 255)"},yellow:{base:["rgb(127, 102, 0)","rgb(255, 219, 76)","rgb(255, 204, 0)","rgb(127, 110, 38)","rgb()"],ref:"rgb(0, 12, 255)"},green:{base:["rgb(31, 89, 41)","rgb(145, 223, 159)","rgb(76, 217, 100)","rgb(58, 89, 64)","rgb(58, 166, 76)"],ref:"rgb(217, 76, 104)"},tealBlue:{base:["rgb(44, 98, 122)","rgb(166, 224, 251)","rgb(90, 200, 250)","rgb(81, 109, 122)","rgb(72, 159, 199)"],ref:"rgb(250, 177, 90)"},blue:{base:["rgb(0, 61, 127)","rgb(76, 162, 255)","rgb(0, 122, 255)","rgb(38, 81, 127)","rgb(0, 98, 204)"],ref:"rgb(255, 162, 0)"},purple:{base:["rgb(36, 35, 86)","rgb(156, 155, 221)","rgb(88, 86, 214)","rgb(61, 61, 86)","rgb(67, 66, 163)"],ref:"rgb(214, 198, 86)"},pink:{base:["rgb(127, 22, 42)","rgb(255, 121, 147)","rgb(255, 45, 85)","rgb(127, 61, 73)","rgb(204, 36, 68)"],ref:"rgb(45, 255, 82)"}},Z={white:K,black:"rgb(33, 33, 33)",grey:Q,themes:U},$={top:40,right:50,bottom:50,left:50},ee={width:0,height:0,isSizeSet:!1},re={curveBasis:s.curveBasis,curveBasisClosed:s.curveBasisClosed,curveBasisOpen:s.curveBasisOpen,curveBundle:s.curveBundle,curveCardinal:s.curveCardinal,curveCardinalClosed:s.curveCardinalClosed,curveCardinalOpen:s.curveCardinalOpen,curveCatmullRom:s.curveCatmullRom,curveCatmullRomClosed:s.curveCatmullRomClosed,curveCatmullRomOpen:s.curveCatmullRomOpen,curveLinear:s.curveLinear,curveLinearClosed:s.curveLinearClosed,curveMonotoneX:s.curveMonotoneX,curveMonotoneY:s.curveMonotoneY,curveNatural:s.curveNatural,curveStep:s.curveStep,curveStepAfter:s.curveStepAfter,curveStepBefore:s.curveStepBefore};function te(){var e=W(["\n  fill: ",";\n  stroke: ",";\n  stroke-width: ",";\n"]);return te=function(){return e},e}var ne=u.circle.attrs(function(e){return{className:e.chart}})(te(),K,function(e){return e.strokeColor},3);function ae(){var e=W([""]);return ae=function(){return e},e}var ie=u.g.attrs({className:"dataviz-layer"})(ae()),oe=l(d(f.isValid,f.parseISO)),ue=0,ce=function(e){return s.stack().keys(e).order(s.stackOrderNone).offset(s.stackOffsetNone)},se=d(h,m(v("series"))),le=g(function(e,r,t){return function(){var n;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var u=e&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,e||p(t,i)},r),u&&p(t,i),n}}}),de=le(!0),fe=le(!1)(100),me=(de(100),function(e,r,t,a,i,o,u){return e?n.axisBottom().scale(r).tickSize(t,0,0).ticks(o).tickFormat(""):n.axisLeft().scale(a).tickSize(-i,0,0).ticks(u).tickFormat("")}),ve=function(e){return U[e].base[2]},he=function(e){return y(e).darken(.2).hsl().string()},pe=0,ge=function(e){if(!e)return null;var r="silky-charts_".concat(e,"-").concat(pe);return pe+=1,r},ye=d(b,x,w(v("name"))),be=function(e){return e.reduce(E,0)},xe=function(e,r){var t=r.name,n=r.value;return e[t]=e[t]?[].concat(H(e[t]),[n]):[n],e},we=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return d(w(O),S,C(xe,{}),r.length?k(function(e){var t=e.series;return r.includes(t)}):t)(e)},Ee=d(x,w(v("series"))),ke=function(e,r,t,n){var a=t.top,i=t.right,o=t.bottom,u=t.left,c=I(n.split(":"),2),s=c[0],l=c[1],d=e||640,f=r||d/s*l;return e&&r?{width:e-u-i,height:r-a-o}:{width:(e?d:f/l*s)-u-i,height:(r?f:d/s*l)-a-o}},Oe=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r/ye(e)/1.8;return a.scaleTime().domain(z.extent(e,function(e){return e.name})).rangeRound(t?[n,r-n]:[0,r])},Ce=function(e,r){return a.scaleBand().domain(e.map(function(e){return e.name})).range([0,r]).padding(.1)},Se=function(e,r,n,a){return q([[M("time"),L(Oe(r,n,a))],[M("band"),L(Ce(r,n))],[t]])(e)},Le=function(e,r){return a.scaleLinear().domain([0,e]).range([r,0])},qe=function(e,r,n){return q([[M("linear"),L(Le(r,n))],[t]])(e)},Me=function(e,r){var t=r<0;i.selectAll("#".concat(e," .axis-x .tick text")).attr("text-anchor",t?"end":"start").attr("transform","translate(".concat(t?-12:12,", 6) rotate(").concat(r,")"))},Pe=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return q([[M("curveBundle"),function(){return re[e].beta(r)}],[M("curveCardinalOpen"),function(){return re[e].tension(r)}],[M("curveCatmullRomOpen"),function(){return re[e].alpha(r)}],[P,function(){return re[e]}]])(e)},ze=function(e){var r=oe(e.map(function(e){return e.name}));return[r,r?e.map(function(e){return D({},e,{name:new Date(e.name)})}):e]};d(A,w(function(e){return d(w(function(r){var t=I(r,2),n=t[0],a=t[1];return{name:e.name,series:n,value:a}}),h,B(["name"]))(e)}));var Ae=function(e){return d(w(R),N(Ee(e).length),w(function(e){return F({name:e.name},e.series,e.value)}))(e)},Be=function(e,r,n){return q([[M("x"),L(r/n/2.4)],[M("width"),L(r/(1.1973*n))],[P,t]])(e)};function Re(){var e=W(["\n  path {\n    stroke: transparent;\n  }\n\n  line {\n    stroke: ",";\n  }\n"]);return Re=function(){return e},e}var Ne=u.g.attrs(function(){return{className:"grid"}})(Re(),Z.grey);function Te(){var e=W(["\n  text-anchor: middle;\n  transform: ",";\n"]);return Te=function(){return e},e}var je=u.text.attrs(function(e){var r=e.axis,t=e.margin,n=e.width,a=e.height;return{className:"".concat(r,"-axis-label"),x:"x"===r?n/2:-a/2,y:"x"===r?a+t.bottom/1.5:-t.left/1.5}})(Te(),function(e){return"y"===e.axis&&"rotate(-90deg)"}),Xe=function(e){var t=e.chart,n=e.color,a=e.d,i=e.data,o=e.onClick,u=e.onMouseEnter,s=e.onMouseLeave,l=e.xScale,d=e.yScale,f=e.isDates,m=I(r.useState({pageX:null,pageY:null,show:!1}),2),v=m[0],h=m[1];return Y.createElement(r.Fragment,null,Y.createElement(De,{chart:t,d:a,className:"line-path",strokeColor:n}),Y.createElement("g",{className:"line-dot-group"},i.map(function(e,r){var t=e.name,a=e.value;return Y.createElement(ne,{key:r,chart:"bar-line",strokeColor:n,cx:f?l(t):l(t)+l.bandwidth()/2,cy:d(a),r:5,onClick:o,onMouseEnter:function(e){h(function(e){return D({},e,{show:!0})}),u(e)},onMouseLeave:function(e){h(function(e){return D({},e,{show:!1})}),s(e)},onMouseMove:function(e){e.persist();var r=e.pageX,n=e.pageY;h(function(e){return D({},e,{name:t,pageX:r,pageY:n,value:a})})}})})),v.show&&c.createPortal(Y.createElement(Qe,{pageX:v.pageX,pageY:v.pageY},Y.createElement(ur,{color:n,name:v.name,value:v.value})),document.body))};function Ye(){var e=W([""]);return Ye=function(){return e},e}var Fe=u.g.attrs(function(e){var r=e.margin,t=r.left,n=r.top;return{className:"silky-charts-container",transform:"translate(".concat(t,", ").concat(n,")")}})(Ye());function Ve(){var e=W(["\n  fill: ",";\n  stroke: ",";\n  stroke-width: ",";\n  pointer-events: ","\n\n  &:hover {\n    fill: ",";\n  }\n"]);return Ve=function(){return e},e}var De=u.path.attrs(function(e){return{className:e.chart}})(Ve(),function(e){return e.fillColor||"none"},function(e){return e.strokeColor||"none"},3,function(e){return"bar-line"===e.chart&&"none"},function(e){var r=e.chart,t=e.fillColor;return"stacked-area"===r&&he(t)});function We(){var e=W(["\n  fill: ",";\n  height: ","px;\n  width: ","px;\n\n  &:hover {\n    fill: ",";\n  }\n"]);return We=function(){return e},e}var Ie=u.rect.attrs(function(e){var r=e.chart,t=e.position;return{x:t.x,y:t.y,className:r}})(We(),function(e){return e.fillColor},function(e){return e.size.height},function(e){return e.size.width},function(e){var r=e.fillColor;return he(r)}),He=function(e){var r=e.data,t=e.series,n=e.onClick,a=e.onMouseEnter,i=e.onMouseLeave,o=e.isDates,u=e.theme,c=e.x,s=e.y,l=e.width,d=e.height;return t.map(function(e){return Y.createElement("g",{key:e.index,className:"".concat(e.key,"-layer")},e.map(function(t,f){var m=j(t)-T(t),v=t.data.name;return Y.createElement(J,{key:f,datum:{name:v,value:m},x:o?c(v)-Be("x",l,ye(r)):c(v),y:s(j(t)),width:o?Be("width",l,ye(r)):c.bandwidth(),height:d-s(m),color:Z.themes[u].base[e.index],onClick:n,onMouseEnter:a,onMouseLeave:i})}))})};function _e(){var e=W(["\n  height: ","px;\n  width: ","px;\n"]);return _e=function(){return e},e}var Ge=u.svg.attrs(function(e){return{id:e.identifier,className:"silky-charts"}})(_e(),function(e){return e.size.height},function(e){return e.size.width});function Je(){var e=W(["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: 4px;\n  box-shadow: 2px 2px 4px 0px rgba(0, 0, 0, 0.75);\n  padding: 10px;\n  pointer-events: none;\n  position: absolute;\n  text-align: center;\n  left: 0;\n  top: 0;\n  z-index: 10;\n"]);return Je=function(){return e},e}var Ke=u.div.attrs(function(e){var r=e.pageX,t=e.pageY,n=e.width,a=e.height;return{className:"silky-charts-tooltip",style:{left:"".concat(r-n/2,"px"),top:"".concat(t-a-10,"px")}}})(Je(),K,Q),Qe=function(e){var t=r.useRef(),n=I(r.useState({width:0,height:0}),2),a=n[0],i=n[1];return r.useEffect(function(){var e=t.current,r=e.offsetWidth,n=e.offsetHeight;i({width:r,height:n})},[]),Y.createElement(Ke,V({ref:t},a,e),e.children)};function Ue(){var e=W(["\n  font-size: 1.2em;\n"]);return Ue=function(){return e},e}function Ze(){var e=W(["\n  margin-bottom: 4px;\n"]);return Ze=function(){return e},e}function $e(){var e=W(["\n  align-items: flex-start;\n  display: flex;\n  flex-direction: column;\n"]);return $e=function(){return e},e}function er(){var e=W(["\n  background-color: ",";\n  margin-right: 10px;\n  padding: 0 4px;\n"]);return er=function(){return e},e}function rr(){var e=W(["\n  display: flex;\n"]);return rr=function(){return e},e}var tr=u.div(rr()),nr=u.span(er(),function(e){return e.swatchColor||Q}),ar=u.div($e()),ir=u.span(Ze()),or=u.span(Ue()),ur=function(e){var r=e.color,t=e.dateFormat,n=void 0===t?"MMM d, y":t,a=e.name,i=e.value;return Y.createElement(tr,null,Y.createElement(nr,{swatchColor:r}),Y.createElement(ar,null,Y.createElement(ir,null,"Date"===X(a)&&f.isValid(a)?f.format(a,n):a),Y.createElement(or,null,i)))};e.Bar=function(e){var u=e.aspectRatio,c=void 0===u?"16:9":u,s=e.data,l=e.dateFormat,d=void 0===l?"%a %d":l,f=e.grid,m=e.height,v=void 0===m?void 0:m,h=e.horizontal,p=e.margin,g=void 0===p?$:p,y=e.onClick,b=void 0===y?t:y,x=e.onMouseEnter,w=void 0===x?t:x,E=e.onMouseLeave,k=void 0===E?t:E,O=e.responsive,C=void 0!==O&&O,S=e.theme,L=void 0===S?"tealBlue":S,q=e.tooltip,M=e.width,P=void 0===M?void 0:M,z=e.xAxisChartLabel,A=e.xAxisLabelRotation,B=e.xAxisLabelRotationValue,R=void 0===B?-50:B,N=e.xAxisTicks,T=void 0===N?5:N,j=e.padding,X=void 0===j?.1:j,F=e.yAxisChartLabel,V=e.yAxisTicks,W=void 0===V?5:V,H=r.useRef(),_=I(r.useState(ge("bar")),1)[0],K=o.timeFormat(d),Q=I(r.useState(ee),2),U=Q[0],Z=U.width,re=U.height,te=U.isSizeSet,ne=Q[1],ae=I(ze(s),2),oe=ae[0],ue=ae[1],ce=a.scaleBand().domain(ue.map(function(e){return e.name})).range([0,Z]).padding(X),se=a.scaleLinear().domain([0,be(ue.map(function(e){return e.value}))]).range([re,0]),le=function(){var e=H.current.parentElement.offsetWidth;!P&&!v||te?e!==P-(g.left+g.right)&&ne(D({},ke(e,void 0,g,c),{isSizeSet:!0})):ne(D({},ke(P,v,g,c),{isSizeSet:!0}))},de=fe(le)();return r.useEffect(function(){return le(),C&&window.addEventListener("resize",de),function(){C&&window.removeEventListener("resize",de)}},[]),Y.createElement(Ge,{identifier:_,size:{width:P||Z+g.left+g.right,height:v||re+g.top+g.bottom},ref:H},Y.createElement(Fe,{margin:g},f&&Y.createElement(Ne,{ref:function(e){return i.select(e).call(me(h,ce,re,se,Z,T,W))}}),z&&Y.createElement(je,{axis:"x",margin:g,width:Z,height:re},z),F&&Y.createElement(je,{axis:"y",margin:g,width:Z,height:re},F),Y.createElement(ie,null,ue.map(function(e,r){var t=e.name,n=e.value;return Y.createElement(J,{key:r,datum:{name:t,value:n},color:ve(L),x:ce(t),y:se(n),width:ce.bandwidth(),height:re-se(n),onClick:b,onMouseEnter:w,onMouseLeave:k,tooltip:q})})),Y.createElement(G,{axis:"x",position:{x:0,y:re},ref:function(e){i.select(e).call(n.axisBottom(ce).ticks(W).tickFormat(oe?K:null)),A&&Me(_,R)}}),Y.createElement(G,{axis:"y",ref:function(e){return i.select(e).call(n.axisLeft(se).ticks(W))}})))},e.BarLine=function(e){var a=e.aspectRatio,o=void 0===a?"16:9":a,u=e.data,c=e.grid,l=e.height,d=void 0===l?void 0:l,f=e.horizontal,m=e.lineSeries,v=void 0===m?[]:m,h=e.lineType,p=void 0===h?"curveLinear":h,g=e.lineTypeOption,y=void 0===g?null:g,b=e.margin,x=void 0===b?$:b,w=e.onClick,E=void 0===w?t:w,k=e.onMouseEnter,O=void 0===k?t:k,C=e.onMouseLeave,S=void 0===C?t:C,L=e.responsive,q=void 0!==L&&L,M=e.secondaryTheme,P=void 0===M?"pink":M,z=e.stackedSeries,A=void 0===z?[]:z,B=e.theme,R=void 0===B?"tealBlue":B,N=e.ticks,j=void 0===N?5:N,X=e.width,F=void 0===X?void 0:X,V=e.xAxisChartLabel,W=e.xAxisLabelRotation,H=e.xAxisLabelRotationValue,_=void 0===H?-50:H,J=e.yAxisChartLabel,K=r.useRef(),Q=I(r.useState(ge("bar-line")),1)[0],U=I(r.useState(ee),2),re=U[0],te=re.width,ne=re.height,ae=re.isSizeSet,ie=U[1],oe=I(r.useMemo(function(){return ze(u)},u),2),ue=oe[0],se=oe[1],le=r.useMemo(function(){return ce(A)(Ae(se))},se),de=Se(ue?"time":"band",se,te,!0),ve=qe("linear",be(we(se,A)),ne),he=s.line().curve(Pe(p,y)).x(function(e){var r=e.name;return ue?de(r):de(r)+de.bandwidth()/2}).y(function(e){var r=e.value;return ve(r)}),pe=function(e,r){return e.map(function(e){return r.filter(function(r){return r.series===e})})}(v,se),ye=function(){var e=K.current.parentElement.offsetWidth;!F&&!d||ae?e!==F-(x.left+x.right)&&ie(D({},ke(e,void 0,x,o),{isSizeSet:!0})):ie(D({},ke(F,d,x,o),{isSizeSet:!0}))},xe=fe(ye)();return r.useEffect(function(){return ye(),q&&window.addEventListener("resize",xe),function(){q&&window.removeEventListener("resize",xe)}},[]),Y.createElement(Ge,{identifier:Q,size:{width:F||te+x.left+x.right,height:d||ne+x.top+x.bottom},ref:K},Y.createElement("g",{className:"silky-charts-container",transform:"translate(".concat(x.left,", ").concat(x.top,")")},c&&Y.createElement(Ne,{ref:function(e){return i.select(e).call(me(f,de,ne,ve,te,j))}}),V&&Y.createElement(je,{axis:"x",margin:x,width:te,height:ne},V),J&&Y.createElement(je,{axis:"y",margin:x,width:te,height:ne},J),Y.createElement(He,{data:se,series:le,isDates:ue,theme:R,x:de,y:ve,width:te,height:ne,onClick:E,onMouseEnter:O,onMouseLeave:S}),Y.createElement(G,{axis:"x",position:{x:0,y:ne},ref:function(e){i.select(e).call(n.axisBottom(de)),ue&&function(e,r){i.select("#".concat(e," .axis-x path.domain")).attr("d",function(){return"M0,0.6V0.5H".concat(r)})}(Q,te),W&&Me(Q,_)}}),Y.createElement(G,{axis:"y",ref:function(e){return i.select(e).call(n.axisLeft(ve).ticks(j))}}),pe.map(function(e,r){return Y.createElement("g",{className:"".concat(T(e).series,"-layer"),key:r},Y.createElement(Xe,{chart:"bar-line",data:e,isDates:ue,color:Z.themes[P].base[r],d:he(e),xScale:de,yScale:ve,onClick:E,onMouseEnter:O,onMouseLeave:S}))})))},e.StackedArea=function(e){var a=e.aspectRatio,o=void 0===a?"16:9":a,u=e.data,c=e.grid,l=e.height,d=void 0===l?void 0:l,f=e.horizontal,m=(e.lineSeries,e.lineType),v=void 0===m?"curveLinear":m,h=e.lineTypeOption,p=void 0===h?null:h,g=e.margin,y=void 0===g?$:g,b=e.onClick,x=void 0===b?t:b,w=e.onMouseEnter,E=void 0===w?t:w,k=e.onMouseLeave,O=void 0===k?t:k,C=e.responsive,S=void 0!==C&&C,L=e.theme,q=void 0===L?"tealBlue":L,M=e.ticks,P=void 0===M?5:M,z=e.width,A=void 0===z?void 0:z,B=e.xAxisChartLabel,R=e.xAxisLabelRotation,N=e.xAxisLabelRotationValue,T=void 0===N?-50:N,j=e.yAxisChartLabel,X=r.useRef(),F=I(r.useState(ge("stacked-area")),1)[0],V=I(r.useState(ee),2),W=V[0],H=W.width,_=W.height,J=W.isSizeSet,K=V[1],Q=I(r.useMemo(function(){return ze(u)},u),2),U=Q[0],re=Q[1];re=r.useMemo(function(){return function(e,r){return e.forEach(function(e){r.forEach(function(r){e.key===r.series&&(r.stackedValues=e[ue],ue+=1)}),ue=0}),r}(ce(Ee(re))(Ae(re)),re)},re);var te=Se(U?"time":"band",re,H),ne=qe("linear",be(we(re)),_),ae=s.area().curve(Pe(v,p)).x(function(e){var r=e.name;return te(r)}).y0(function(e){var r=e.stackedValues;return ne(r[0])}).y1(function(e){var r=e.stackedValues;return ne(r[1])}),ie=function(){var e=X.current.parentElement.offsetWidth;!A&&!d||J?e!==A-(y.left+y.right)&&K(D({},ke(e,void 0,y,o),{isSizeSet:!0})):K(D({},ke(A,d,y,o),{isSizeSet:!0}))},oe=fe(ie)();return r.useEffect(function(){return ie(),S&&window.addEventListener("resize",oe),function(){S&&window.removeEventListener("resize",oe)}},[]),Y.createElement(Ge,{identifier:F,size:{width:A||H+y.left+y.right,height:d||_+y.top+y.bottom},ref:X},Y.createElement("g",{className:"silky-charts-container",transform:"translate(".concat(y.left,", ").concat(y.top,")")},c&&Y.createElement(Ne,{ref:function(e){return i.select(e).call(me(f,te,_,ne,H,P))}}),B&&Y.createElement(je,{axis:"x",margin:y,width:H,height:_},B),j&&Y.createElement(je,{axis:"y",margin:y,width:H,height:_},j),se(re).map(function(e,r){var t,n=I(e,2),a=n[0],i=n[1];return Y.createElement("g",{className:"".concat((t=a,t.replace(/ /g,"-").toLowerCase()),"-layer"),key:r},Y.createElement(De,{chart:"stacked-area",fillColor:Z.themes[q].base[r],d:ae(i),strokeWidth:0,onClick:x,onMouseEnter:E,onMouseLeave:O}))}),Y.createElement(G,{axis:"x",position:{x:0,y:_},ref:function(e){i.select(e).call(n.axisBottom(te)),R&&Me(F,T)}}),Y.createElement(G,{axis:"y",ref:function(e){return i.select(e).call(n.axisLeft(ne).ticks(P))}})))}});
