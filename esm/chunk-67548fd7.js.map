{"version":3,"file":"chunk-7fc9ede4.js","sources":["../src/components/Axis.js","../src/components/BarDatum.js","../src/utils/palette.js","../src/utils/constants.js","../src/components/Circle.js","../src/components/DataGroup.js","../src/utils/isISODate.js","../src/utils/allDate.js","../src/utils/appendStackedValues.js","../src/utils/buildStack.js","../src/utils/bySeries.js","../src/utils/classify.js","../src/utils/ramdaDebounce.js","../src/utils/debounce.js","../src/utils/drawGrid.js","../src/utils/getBaseColor.js","../src/utils/getHoverColor.js","../src/utils/getId.js","../src/utils/getLength.js","../src/utils/getLineDataForSeries.js","../src/utils/getMax.js","../src/utils/getStackedMax.js","../src/utils/getSeries.js","../src/utils/getSize.js","../src/utils/getXScale.js","../src/utils/getYScale.js","../src/utils/rotateXLabels.js","../src/utils/setLineType.js","../src/utils/setupData.js","../src/utils/toSingleForm.js","../src/utils/toStackedForm.js","../src/components/Grid.js","../src/components/Label.js","../src/components/LineDatum.js","../src/components/MainGroup.js","../src/components/Path.js","../src/components/Rect.js","../src/components/Source.js","../src/components/StackedBarDatum.js","../src/components/SVG.js","../src/components/Title.js","../src/components/Tooltip.js","../src/components/TooltipItem.js"],"sourcesContent":["import styled from 'styled-components';\n\nconst Axis = styled.g.attrs(({ axis, position }) => ({\n  className: `axis-${axis}`,\n  transform: position && `translate(${position.x}, ${position.y})`,\n}))``;\n\nexport default Axis;\n","import React, { Fragment, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Rect, Tooltip, TooltipItem } from './';\n\nconst BarDatum = ({\n  color,\n  datum,\n  height,\n  onClick,\n  onMouseEnter,\n  onMouseLeave,\n  tooltip: withTooltip,\n  width,\n  x,\n  y,\n}) => {\n  const [tooltip, setTooltip] = useState({\n    pageX: null,\n    pageY: null,\n    show: false,\n  });\n\n  return (\n    <Fragment>\n      <Rect\n        chart=\"bar\"\n        fillColor={color}\n        onClick={onClick}\n        onMouseEnter={event => {\n          setTooltip(state => ({ ...state, show: true }));\n          onMouseEnter(event);\n        }}\n        onMouseLeave={event => {\n          setTooltip(state => ({ ...state, show: false }));\n          onMouseLeave(event);\n        }}\n        onMouseMove={event => {\n          event.persist();\n          const { pageX, pageY } = event;\n          setTooltip(state => ({ ...state, pageX, pageY }));\n        }}\n        position={{ x, y }}\n        size={{ width, height }}\n      />\n      {withTooltip &&\n        tooltip.show &&\n        createPortal(\n          <Tooltip pageX={tooltip.pageX} pageY={tooltip.pageY}>\n            <TooltipItem color={color} {...datum} />\n          </Tooltip>,\n          document.body\n        )}\n    </Fragment>\n  );\n};\n\nexport default BarDatum;\n","export const white = 'rgb(255, 255, 255)'; // #FFFFFF\nexport const black = 'rgb(33, 33, 33)'; // #212121\nexport const grey = 'rgb(220, 220, 220)'; // #DCDCDC\n\nexport const themes = {\n  red: {\n    base: [\n      'rgb(127, 29, 24)',\n      'rgb(255, 131, 124)',\n      'rgb(255, 59, 48)',\n      'rgb(127, 66, 62)',\n      'rgb(204, 47, 38)',\n    ],\n    ref: 'rgb(48, 255, 128)',\n  },\n  orange: {\n    base: [\n      'rgb(127, 74, 0)',\n      'rgb(255, 181, 76)',\n      'rgb(255, 149, 0)',\n      'rgb(127, 90, 38)',\n      'rgb(204, 119, 0)',\n    ],\n    ref: 'rgb(0, 156, 255)',\n  },\n  yellow: {\n    base: [\n      'rgb(127, 102, 0)',\n      'rgb(255, 219, 76)',\n      'rgb(255, 204, 0)',\n      'rgb(127, 110, 38)',\n      'rgb()',\n    ],\n    ref: 'rgb(0, 12, 255)',\n  },\n  green: {\n    base: [\n      'rgb(31, 89, 41)',\n      'rgb(145, 223, 159)',\n      'rgb(76, 217, 100)',\n      'rgb(58, 89, 64)',\n      'rgb(58, 166, 76)',\n    ],\n    ref: 'rgb(217, 76, 104)',\n  },\n  tealBlue: {\n    base: [\n      'rgb(44, 98, 122)',\n      'rgb(166, 224, 251)',\n      'rgb(90, 200, 250)',\n      'rgb(81, 109, 122)',\n      'rgb(72, 159, 199)',\n    ],\n    ref: 'rgb(250, 177, 90)',\n  },\n  blue: {\n    base: [\n      'rgb(0, 61, 127)',\n      'rgb(76, 162, 255)',\n      'rgb(0, 122, 255)',\n      'rgb(38, 81, 127)',\n      'rgb(0, 98, 204)',\n    ],\n    ref: 'rgb(255, 162, 0)',\n  },\n  purple: {\n    base: [\n      'rgb(36, 35, 86)',\n      'rgb(156, 155, 221)',\n      'rgb(88, 86, 214)',\n      'rgb(61, 61, 86)',\n      'rgb(67, 66, 163)',\n    ],\n    ref: 'rgb(214, 198, 86)',\n  },\n  pink: {\n    base: [\n      'rgb(127, 22, 42)',\n      'rgb(255, 121, 147)',\n      'rgb(255, 45, 85)',\n      'rgb(127, 61, 73)',\n      'rgb(204, 36, 68)',\n    ],\n    ref: 'rgb(45, 255, 82)',\n  },\n};\n\nexport default {\n  white,\n  black,\n  grey,\n  themes,\n};\n","import {\n  curveBasis,\n  curveBasisClosed,\n  curveBasisOpen,\n  curveBundle,\n  curveCardinal,\n  curveCardinalClosed,\n  curveCardinalOpen,\n  curveCatmullRom,\n  curveCatmullRomClosed,\n  curveCatmullRomOpen,\n  curveLinear,\n  curveLinearClosed,\n  curveMonotoneX,\n  curveMonotoneY,\n  curveNatural,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore,\n} from 'd3-shape';\n\n// Base values\nexport const ASPECT_RATIO = '16:9';\nexport const DEBOUNCE = 100;\nexport const MARGIN = { top: 40, right: 50, bottom: 50, left: 50 };\nexport const ROTATION = -50;\nexport const SIZE = {\n  width: 0,\n  height: 0,\n  isSizeSet: false,\n};\nexport const TICKS = 5;\nexport const TIME_FORMAT = '%a %d';\nexport const TOOLTIP_DATE_FORMAT = 'MMM d, y';\nexport const WIDTH = 640;\n\n// Scales\nexport const SCALE_BAND = 'band';\nexport const SCALE_LINEAR = 'linear';\nexport const SCALE_PADDING = 0.1;\nexport const SCALE_TIME = 'time';\n\n// Themes\nexport const THEME = 'tealBlue';\nexport const SECONDARY_THEME = 'pink';\n\n// Line options\nexport const LINE_STROKE_WIDTH = 3;\nexport const LINE_TYPE = 'curveLinear';\nexport const LINE_TYPES = {\n  curveBasis,\n  curveBasisClosed,\n  curveBasisOpen,\n  curveBundle,\n  curveCardinal,\n  curveCardinalClosed,\n  curveCardinalOpen,\n  curveCatmullRom,\n  curveCatmullRomClosed,\n  curveCatmullRomOpen,\n  curveLinear,\n  curveLinearClosed,\n  curveMonotoneX,\n  curveMonotoneY,\n  curveNatural,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore,\n};\n","import styled from 'styled-components';\nimport { white } from '../utils/palette';\nimport { LINE_STROKE_WIDTH } from '../utils/constants';\n\nconst Circle = styled.circle.attrs(({ chart }) => ({ className: chart }))`\n  fill: ${white};\n  stroke: ${({ strokeColor }) => strokeColor};\n  stroke-width: ${LINE_STROKE_WIDTH};\n`;\n\nexport default Circle;\n","import styled from 'styled-components';\n\nconst DataGroup = styled.g.attrs({\n  className: 'dataviz-layer',\n})``;\n\nexport default DataGroup;\n","import compose from 'ramda/src/compose';\nimport { isValid, parseISO } from 'date-fns';\n\nexport default compose(\n  isValid,\n  parseISO\n);\n","import all from 'ramda/src/all';\nimport compose from 'ramda/src/compose';\nimport { isValid, parseISO } from 'date-fns';\nimport isISODate from './isISODate';\n\nexport default all(isISODate);\n","let idx = 0;\n\nexport default (stack, data) => {\n  stack.forEach(values => {\n    data.forEach(datum => {\n      if (values.key === datum.series) {\n        datum.stackedValues = values[idx];\n        idx += 1;\n      }\n    });\n\n    idx = 0;\n  });\n\n  return data;\n};\n","import { stack as d3Stack, stackOffsetNone, stackOrderNone } from 'd3-shape';\n\nexport default keys =>\n  d3Stack()\n    .keys(keys)\n    .order(stackOrderNone)\n    .offset(stackOffsetNone);\n","import compose from 'ramda/src/compose';\nimport groupBy from 'ramda/src/groupBy';\nimport prop from 'ramda/src/prop';\nimport toPairs from 'ramda/src/toPairs';\n\nexport default compose(\n  toPairs,\n  groupBy(prop('series'))\n);\n","export default str => str.replace(/ /g, '-').toLowerCase();\n","import apply from 'ramda/src/apply';\nimport curry from 'ramda/src/curry';\n\n/**\n * Debounce function\n * Source: https://gist.github.com/tommmyy/daf61103d6022cd23d74c71b0e8adc0d\n *\n * @param {Boolean} immediate If true run `fn` at the start of the timeout\n * @param {Number} timeMs Debounce timeout\n * @param {Function} fn Function to debounce\n *\n * @return {Number} timeout\n * @example\n *\n *    const say = (x) => console.log(x)\n *    const debouncedSay = debounce_(false, 1000, say)();\n *\n *    debouncedSay(\"1\")\n *    debouncedSay(\"2\")\n *    debouncedSay(\"3\")\n *\n */\nconst debounce_ = curry((immediate, timeMs, fn) => () => {\n  let timeout;\n\n  return (...args) => {\n    const later = () => {\n      timeout = null;\n\n      if (!immediate) {\n        apply(fn, args);\n      }\n    };\n\n    const callNow = immediate && !timeout;\n\n    clearTimeout(timeout);\n    timeout = setTimeout(later, timeMs);\n\n    if (callNow) {\n      apply(fn, args);\n    }\n\n    return timeout;\n  };\n});\n\nexport const debounceImmediate = debounce_(true);\n\nexport const debounce = debounce_(false);\n","import {\n  debounce as ramdaDebounce,\n  debounceImmediate as ramdaDebounceImmediate,\n} from './ramdaDebounce';\nimport { DEBOUNCE } from './constants';\n\nexport const debounce = ramdaDebounce(DEBOUNCE);\nexport const debounceImmediate = ramdaDebounceImmediate(DEBOUNCE);\n","import { axisBottom as d3AxisBottom, axisLeft as d3AxisLeft } from 'd3-axis';\n\nexport default (\n  horizontal,\n  xScale,\n  height,\n  yScale,\n  width,\n  xAxisTicks,\n  yAxisTicks\n) =>\n  horizontal\n    ? d3AxisBottom()\n        .scale(xScale)\n        .tickSize(height, 0, 0)\n        .ticks(xAxisTicks)\n        .tickFormat('')\n    : d3AxisLeft()\n        .scale(yScale)\n        .tickSize(-width, 0, 0)\n        .ticks(yAxisTicks)\n        .tickFormat('');\n","import { themes } from './palette';\n\nexport default theme => themes[theme].base[2];\n","import color from 'color';\n\nexport default x =>\n  color(x)\n    .darken(0.2)\n    .hsl()\n    .string();\n","let innerId = 0;\n\nexport default prefix => {\n  if (!prefix) {\n    return null;\n  }\n\n  const id = `silky-charts_${prefix}-${innerId}`;\n  innerId += 1;\n  return id;\n};\n","import compose from 'ramda/src/compose';\nimport length from 'ramda/src/length';\nimport uniq from 'ramda/src/uniq';\nimport prop from 'ramda/src/prop';\nimport map from 'ramda/src/map';\n\nexport default compose(\n  length,\n  uniq,\n  map(prop('name'))\n);\n","export default (series, data) =>\n  series.map(x => data.filter(datum => datum.series === x));\n","import max from 'ramda/src/max';\n\nexport default values => values.reduce(max, 0);\n","import compose from 'ramda/src/compose';\nimport identity from 'ramda/src/identity';\nimport filter from 'ramda/src/filter';\nimport sum from 'ramda/src/sum';\nimport map from 'ramda/src/map';\nimport reduce from 'ramda/src/reduce';\nimport values from 'ramda/src/values';\n\nconst reducer = (a, { name, value }) => {\n  a[name] = a[name] ? [...a[name], value] : [value];\n  return a;\n};\n\n/**\n * Using an optional list of series names calculate the largest possible values\n * adding the values for the series names provided plus the rest of the values\n * present in the data\n *\n * @param {Array} data Chart data\n * @param {Array} seriesList List of series names whose values will be added to\n * calculate the largest possible value\n * @returns {Array} List of calculated values\n */\nexport default (data, seriesList = []) =>\n  compose(\n    map(sum),\n    values,\n    reduce(reducer, {}),\n    seriesList.length\n      ? filter(({ series }) => seriesList.includes(series))\n      : identity\n  )(data);\n","import compose from 'ramda/src/compose';\nimport map from 'ramda/src/map';\nimport prop from 'ramda/src/prop';\nimport uniq from 'ramda/src/uniq';\n\nexport default compose(\n  uniq,\n  map(prop('series'))\n);\n","import { WIDTH } from './constants';\n\nexport default (w1, h1, { top, right, bottom, left }, r) => {\n  const [r1, r2] = r.split(':');\n  const w2 = w1 ? w1 : WIDTH;\n  const h2 = h1 ? h1 : (w2 / r1) * r2;\n\n  if (w1 && h1) {\n    return {\n      width: w1 - left - right,\n      height: h1 - top - bottom,\n    };\n  }\n\n  const width = w1 ? w2 : (h2 / r2) * r1;\n  const height = h1 ? h2 : (w2 / r1) * r2;\n\n  return {\n    width: width - left - right,\n    height: height - top - bottom,\n  };\n};\n","import always from 'ramda/src/always';\nimport cond from 'ramda/src/cond';\nimport equals from 'ramda/src/equals';\nimport identity from 'ramda/src/identity';\nimport T from 'ramda/src/T';\nimport { extent as d3Extent } from 'd3-array';\nimport { scaleBand as d3ScaleBand, scaleTime as d3ScaleTime } from 'd3-scale';\nimport { getLength } from './';\nimport { SCALE_TIME, SCALE_BAND } from './constants';\n\nconst timeScale = (data, width, barChart = false) => {\n  const dataLength = getLength(data); // TODO: fix this fucking length\n  const rangeWidth = width / dataLength / 1.8;\n\n  return d3ScaleTime()\n    .domain(d3Extent(data, ({ name }) => name))\n    .rangeRound(barChart ? [rangeWidth, width - rangeWidth] : [0, width]);\n};\n\nconst bandScale = (data, width) =>\n  d3ScaleBand()\n    .domain(data.map(({ name }) => name))\n    .range([0, width])\n    .padding(0.1);\n\n/**\n * Depending on the type of data we are using to represent the X axis ticks we\n * have to use a different D3 scale\n *\n * @param {String} type Type of Scale defined in the constants file\n * @param {Object} data Data\n * @param {Number} width Chart width\n * @param {Boolean} barChart Indicates if the chart use bars in order to\n * calculate the X axis path with for the time scale\n *\n * @return {Function} D3 scale function\n */\nexport default (type, data, width, barChart) =>\n  cond([\n    [equals(SCALE_TIME), always(timeScale(data, width, barChart))],\n    [equals(SCALE_BAND), always(bandScale(data, width))],\n    [(T, identity)],\n  ])(type);\n","import always from 'ramda/src/always';\nimport cond from 'ramda/src/cond';\nimport equals from 'ramda/src/equals';\nimport identity from 'ramda/src/identity';\nimport T from 'ramda/src/T';\nimport { scaleLinear as d3ScaleLinear } from 'd3-scale';\nimport { SCALE_LINEAR } from './constants';\n\nconst linearScale = (max, height) =>\n  d3ScaleLinear()\n    .domain([0, max])\n    .range([height, 0]);\n\nexport default (type, data, height) =>\n  cond([\n    [equals(SCALE_LINEAR), always(linearScale(data, height))],\n    [(T, identity)],\n  ])(type);\n","import { selectAll as d3SelectAll } from 'd3-selection';\n\n/**\n * Rotate the X axis labels to given degrees\n *\n * @param {String} id Unique chart id\n * @param {Number} deg Degrees to rotate\n */\n\nexport default (id, deg) => {\n  const isNegative = deg < 0;\n  d3SelectAll(`#${id} .axis-x .tick text`)\n    .attr('text-anchor', isNegative ? 'end' : 'start')\n    .attr('transform', `translate(${isNegative ? -12 : 12}, 6) rotate(${deg})`);\n};\n","import cond from 'ramda/src/cond';\nimport equals from 'ramda/src/equals';\nimport T from 'ramda/src/T';\nimport { LINE_TYPES } from './constants';\n\nexport default (type, option = null) =>\n  cond([\n    [equals('curveBundle'), () => LINE_TYPES[type].beta(option)],\n    [equals('curveCardinalOpen'), () => LINE_TYPES[type].tension(option)],\n    [equals('curveCatmullRomOpen'), () => LINE_TYPES[type].alpha(option)],\n    [T, () => LINE_TYPES[type]],\n  ])(type);\n","import { allDate } from './';\n\nexport default d => {\n  const isDates = allDate(d.map(({ name }) => name));\n  const data = isDates ? d.map(x => ({ ...x, name: new Date(x.name) })) : d;\n\n  return [isDates, data];\n};\n","import compose from 'ramda/src/compose';\nimport flatten from 'ramda/src/flatten';\nimport map from 'ramda/src/map';\nimport omit from 'ramda/src/omit';\nimport toPairs from 'ramda/src/toPairs';\n\nconst toSingle = datum =>\n  compose(\n    map(([series, value]) => ({ name: datum.name, series, value })),\n    toPairs,\n    omit(['name'])\n  )(datum);\n\nexport default compose(\n  flatten,\n  map(toSingle)\n);\n","import compose from 'ramda/src/compose';\nimport map from 'ramda/src/map';\nimport mergeAll from 'ramda/src/mergeAll';\nimport splitEvery from 'ramda/src/splitEvery';\nimport { getSeries } from './';\n\nexport default data =>\n  compose(\n    map(mergeAll),\n    splitEvery(getSeries(data).length),\n    map(({ name, series, value }) => ({ name, [series]: value }))\n  )(data);\n","import styled from 'styled-components';\nimport { palette } from '../utils';\n\nconst Grid = styled.g.attrs(() => ({\n  className: 'grid',\n}))`\n  path {\n    stroke: transparent;\n  }\n\n  line {\n    stroke: ${palette.grey};\n  }\n`;\n\nexport default Grid;\n","import styled from 'styled-components';\n\nconst Label = styled.text.attrs(({ axis, margin, width, height }) => ({\n  className: `${axis}-axis-label`,\n  x: axis === 'x' ? width / 2 : -(height / 2),\n  y: axis === 'x' ? height + margin.bottom / 1.5 : -(margin.left / 1.5),\n}))`\n  text-anchor: middle;\n  transform: ${({ axis }) => axis === 'y' && 'rotate(-90deg)'};\n`;\n\nexport default Label;\n","import React, { Fragment, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Circle, Path, Tooltip, TooltipItem } from './';\n\nconst LineDatum = ({\n  chart,\n  color,\n  d,\n  data,\n  onClick,\n  onMouseEnter,\n  onMouseLeave,\n  tooltip: withTooltip,\n  xScale,\n  yScale,\n}) => {\n  const [tooltip, setTooltip] = useState({\n    pageX: null,\n    pageY: null,\n    show: false,\n  });\n\n  return (\n    <Fragment>\n      <Path chart={chart} d={d} className=\"line-path\" strokeColor={color} />\n      <g className=\"line-dot-group\">\n        {data.map(({ name, value }, idx) => (\n          <Circle\n            key={idx}\n            chart=\"bar-line\"\n            strokeColor={color}\n            cx={xScale(name) + xScale.bandwidth() / 2}\n            cy={yScale(value)}\n            r={4}\n            onClick={onClick}\n            onMouseEnter={event => {\n              setTooltip(state => ({ ...state, show: true }));\n              onMouseEnter(event);\n            }}\n            onMouseLeave={event => {\n              setTooltip(state => ({ ...state, show: false }));\n              onMouseLeave(event);\n            }}\n            onMouseMove={event => {\n              event.persist();\n              const { pageX, pageY } = event;\n              setTooltip(state => ({ ...state, name, pageX, pageY, value }));\n            }}\n          />\n        ))}\n      </g>\n      {withTooltip &&\n        tooltip.show &&\n        createPortal(\n          <Tooltip pageX={tooltip.pageX} pageY={tooltip.pageY}>\n            <TooltipItem\n              color={color}\n              name={tooltip.name}\n              value={tooltip.value}\n            />\n          </Tooltip>,\n          document.body\n        )}\n    </Fragment>\n  );\n};\n\nexport default LineDatum;\n","import styled from 'styled-components';\n\nconst MainGroup = styled.g.attrs(({ margin: { left, top } }) => ({\n  className: 'silky-charts-container',\n  transform: `translate(${left}, ${top})`,\n}))``;\n\nexport default MainGroup;\n","import styled from 'styled-components';\nimport { getHoverColor } from '../utils';\nimport { LINE_STROKE_WIDTH } from '../utils/constants';\n\nconst Path = styled.path.attrs(({ chart }) => ({ className: chart }))`\n  fill: ${({ fillColor }) => fillColor || 'none'};\n  stroke: ${({ strokeColor }) => strokeColor || 'none'};\n  stroke-width: ${LINE_STROKE_WIDTH};\n  pointer-events: ${({ chart }) => chart === 'bar-line' && 'none'}\n\n  &:hover {\n    fill: ${({ chart, fillColor }) =>\n      chart === 'stacked-area' && getHoverColor(fillColor)};\n  }\n`;\n\nexport default Path;\n","import styled from 'styled-components';\nimport { getHoverColor } from '../utils';\n\nconst Rect = styled.rect.attrs(({ chart, position: { x, y } }) => ({\n  x,\n  y,\n  className: chart,\n}))`\n  fill: ${({ fillColor }) => fillColor};\n  height: ${({ size }) => size.height}px;\n  width: ${({ size }) => size.width}px;\n\n  &:hover {\n    fill: ${({ fillColor }) => getHoverColor(fillColor)};\n  }\n`;\n\nexport default Rect;\n","import styled from 'styled-components';\n\nconst Source = styled.text.attrs(({ height, margin, width }) => ({\n  className: `chart-source`,\n  x: width,\n  y: height + margin.bottom / 2,\n}))`\n  font-size: 12px;\n  font-style: italic;\n  text-anchor: end;\n`;\n\nexport default Source;\n","import React from 'react';\nimport head from 'ramda/src/head';\nimport last from 'ramda/src/last';\nimport BarDatum from './BarDatum';\nimport { palette, valueFor, getLength } from '../utils';\n\nconst StackedBarDatum = ({\n  data,\n  height,\n  onClick,\n  onMouseEnter,\n  onMouseLeave,\n  series,\n  theme,\n  tooltip,\n  width,\n  x,\n  y,\n}) =>\n  series.map(layer => (\n    <g key={layer.index} className={`${layer.key}-layer`}>\n      {layer.map((datum, idx) => {\n        const value = last(datum) - head(datum);\n        const name = datum.data.name;\n\n        return (\n          <BarDatum\n            key={idx}\n            color={palette.themes[theme].base[layer.index]}\n            datum={{ name, value }}\n            height={height - y(value)}\n            onClick={onClick}\n            onMouseEnter={onMouseEnter}\n            onMouseLeave={onMouseLeave}\n            tooltip={tooltip}\n            width={x.bandwidth()}\n            x={x(name)}\n            y={y(last(datum))}\n          />\n        );\n      })}\n    </g>\n  ));\n\nexport default StackedBarDatum;\n","import styled from 'styled-components';\n\nconst SVG = styled.svg.attrs(({ identifier }) => ({\n  id: identifier,\n  className: 'silky-charts',\n}))`\n  height: ${({ size }) => size.height}px;\n  width: ${({ size }) => size.width}px;\n`;\n\nexport default SVG;\n","import styled from 'styled-components';\n\nconst Title = styled.text.attrs(({ margin, width }) => ({\n  className: `chart-title`,\n  x: width / 2,\n  y: - margin.top / 2,\n}))`\n  font-size: 24px;\n  text-anchor: middle;\n`;\n\nexport default Title;\n","import React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { white, grey } from '../utils/palette';\n\nconst Container = styled.div.attrs(({ pageX, pageY, width, height }) => ({\n  className: 'silky-charts-tooltip',\n  style: {\n    left: `${pageX - width / 2}px`,\n    top: `${pageY - height - 10}px`,\n  },\n}))`\n  background-color: ${white};\n  border: 1px solid ${grey};\n  border-radius: 4px;\n  box-shadow: 2px 2px 4px 0px rgba(0, 0, 0, 0.75);\n  padding: 10px;\n  pointer-events: none;\n  position: absolute;\n  text-align: center;\n  left: 0;\n  top: 0;\n  z-index: 10;\n`;\n\nconst Tooltip = props => {\n  const tooltipRef = useRef();\n  const [size, setSize] = useState({\n    width: 0,\n    height: 0,\n  });\n\n  useEffect(() => {\n    const { offsetWidth, offsetHeight } = tooltipRef.current;\n    setSize({ width: offsetWidth, height: offsetHeight });\n  }, []);\n\n  return (\n    <Container ref={tooltipRef} {...size} {...props}>\n      {props.children}\n    </Container>\n  );\n};\n\nexport default Tooltip;\n","import React from 'react';\nimport styled from 'styled-components';\nimport type from 'ramda/src/type';\nimport { isValid, format } from 'date-fns';\nimport { isISODate } from '../utils';\nimport { grey } from '../utils/palette';\nimport { TOOLTIP_DATE_FORMAT } from '../utils/constants';\n\nconst Container = styled.div`\n  display: flex;\n`;\n\nconst Swatch = styled.span`\n  background-color: ${({ swatchColor }) => swatchColor || grey};\n  margin-right: 10px;\n  padding: 0 4px;\n`;\n\nconst Data = styled.div`\n  align-items: flex-start;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Name = styled.span`\n  margin-bottom: 4px;\n`;\n\nconst Value = styled.span`\n  font-size: 1.2em;\n`;\n\nconst TooltipItem = ({\n  color,\n  dateFormat = TOOLTIP_DATE_FORMAT,\n  name,\n  value,\n}) => (\n  <Container>\n    <Swatch swatchColor={color} />\n    <Data>\n      <Name>\n        {type(name) === 'Date' && isValid(name)\n          ? format(name, dateFormat)\n          : name}\n      </Name>\n      <Value>{value}</Value>\n    </Data>\n  </Container>\n);\n\nexport default TooltipItem;\n"],"names":["Axis","styled","g","attrs","axis","position","className","transform","x","y","BarDatum","color","datum","height","onClick","onMouseEnter","onMouseLeave","withTooltip","tooltip","width","useState","pageX","pageY","show","setTooltip","event","state","persist","createPortal","document","body","white","black","grey","themes","red","base","ref","orange","yellow","green","tealBlue","blue","purple","pink","ASPECT_RATIO","DEBOUNCE","MARGIN","top","right","bottom","left","ROTATION","SIZE","isSizeSet","TICKS","TIME_FORMAT","TOOLTIP_DATE_FORMAT","WIDTH","SCALE_BAND","SCALE_LINEAR","SCALE_PADDING","SCALE_TIME","THEME","SECONDARY_THEME","LINE_STROKE_WIDTH","LINE_TYPE","LINE_TYPES","curveBasis","curveBasisClosed","curveBasisOpen","curveBundle","curveCardinal","curveCardinalClosed","curveCardinalOpen","curveCatmullRom","curveCatmullRomClosed","curveCatmullRomOpen","curveLinear","curveLinearClosed","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","Circle","circle","chart","strokeColor","DataGroup","compose","isValid","parseISO","all","isISODate","idx","stack","data","forEach","values","key","series","stackedValues","keys","d3Stack","order","stackOrderNone","offset","stackOffsetNone","toPairs","groupBy","prop","str","replace","toLowerCase","debounce_","curry","immediate","timeMs","fn","timeout","args","later","apply","callNow","clearTimeout","setTimeout","debounceImmediate","debounce","ramdaDebounce","ramdaDebounceImmediate","horizontal","xScale","yScale","xAxisTicks","yAxisTicks","d3AxisBottom","scale","tickSize","ticks","tickFormat","d3AxisLeft","theme","darken","hsl","string","innerId","prefix","id","length","uniq","map","filter","reduce","max","reducer","a","name","value","seriesList","sum","includes","identity","w1","h1","r","split","r1","r2","w2","h2","timeScale","barChart","dataLength","getLength","rangeWidth","d3ScaleTime","domain","d3Extent","rangeRound","bandScale","d3ScaleBand","range","padding","type","cond","equals","always","T","linearScale","d3ScaleLinear","deg","isNegative","d3SelectAll","attr","option","beta","tension","alpha","d","isDates","allDate","Date","toSingle","omit","flatten","mergeAll","splitEvery","getSeries","Grid","palette","Label","text","margin","LineDatum","bandwidth","MainGroup","Path","path","fillColor","getHoverColor","Rect","rect","size","Source","StackedBarDatum","layer","index","last","head","SVG","svg","identifier","Title","Container","div","style","Tooltip","props","tooltipRef","useRef","setSize","useEffect","current","offsetWidth","offsetHeight","children","Swatch","span","swatchColor","Data","Name","Value","TooltipItem","dateFormat","format"],"mappings":"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"}