{"version":3,"file":"chunk-cf03176d.js","sources":["../src/contexts/graph.js","../src/utils/appendStackedValues.js","../src/utils/buildStack.js","../src/utils/bySeries.js","../src/utils/classify.js","../src/utils/drawGrid.js","../src/utils/extent.js","../src/utils/palette.js","../src/utils/getBaseColor.js","../src/utils/getHoverColor.js","../src/utils/getId.js","../src/utils/getLineDataForSeries.js","../src/utils/getMax.js","../src/utils/getMin.js","../src/utils/getMousePosition.js","../src/utils/getNearestPoint.js","../src/utils/getStackedMax.js","../src/utils/getSeries.js","../src/utils/constants.js","../src/utils/getSize.js","../src/utils/getTooltipPosition.js","../src/utils/isValidDate.js","../src/utils/mapTooltipData.js","../src/utils/rotateXLabels.js","../src/utils/setLineType.js","../src/utils/setupData.js","../src/utils/toStackedForm.js","../src/components/AreaDatum.js","../src/components/Axis.js","../src/components/BarDatum.js","../src/components/Circle.js","../src/components/DataGroup.js","../src/components/Grid.js","../src/components/Label.js","../src/components/LineDatum.js","../src/components/MainGroup.js","../src/components/Path.js","../src/components/Rect.js","../src/components/DataSource.js","../src/components/StackedBarDatum.js","../src/components/SVG.js","../src/components/Title.js","../src/components/Tooltip.js","../src/components/TooltipGroup.js","../src/components/TooltipItem.js","../src/hooks/useDebounce.js","../src/hooks/useResize.js"],"sourcesContent":["import { createContext } from 'react';\n\nexport default createContext();\n","let idx = 0;\n\n/**\n * The \"stacked\" charts use these values to generate both instances of the Y\n * axis.\n *\n * @param {Object} stack D3 stack object.\n * @param {Array} data Chart data list.\n * @returns {Array} The modified chart data list.\n */\nexport default (stack, data) => {\n  stack.forEach(values => {\n    data.forEach(datum => {\n      if (values.key === datum.series) {\n        datum.stackedValues = values[idx];\n        idx += 1;\n      }\n    });\n\n    idx = 0;\n  });\n\n  return data;\n};\n","import { stack as d3Stack, stackOffsetNone, stackOrderNone } from 'd3-shape';\n\n/**\n * The D3 stack function takes the list of the series in the chart data to\n * generate the stacks for the stacked charts.\n *\n * @param {Array} series List of series in the data.\n * @returns {Array} D3 stack.\n */\nexport default series =>\n  d3Stack()\n    .keys(series)\n    .order(stackOrderNone)\n    .offset(stackOffsetNone);\n","import compose from 'ramda/src/compose';\nimport groupBy from 'ramda/src/groupBy';\nimport prop from 'ramda/src/prop';\nimport toPairs from 'ramda/src/toPairs';\n\n/**\n * The data must be ordered by series before the area is created.\n *\n * @param {Array} _ Chart data.\n * @returns {Function} Ordering function that returns a list ordered by data\n * series.\n */\nexport default compose(\n  toPairs,\n  groupBy(prop('series'))\n);\n","/**\n * Use the series value to create a class to identify the element.\n *\n * @param {String} series Series name.\n * @returns {String} Classname.\n */\nexport default series => series.replace(/ /g, '-').toLowerCase();\n","import { axisBottom as d3AxisBottom, axisLeft as d3AxisLeft } from 'd3-axis';\n\n/**\n * Draw the chart's vertical or horizontal grid.\n *\n * @param {Boolean} horizontal Is the chart vertical or horizontal.\n * @param {Function} xScale D3 scale.\n * @param {Number} height Chart's available height.\n * @param {Function} yScale D3 scale.\n * @param {Number} width Chart's available width.\n * @param {Number} xAxisTicks Suggested value for the X axis ticks.\n * @param {Number} yAxisTicks Suggested value for the Y axis ticks.\n * @returns {Void}\n */\nexport default (\n  horizontal,\n  xScale,\n  height,\n  yScale,\n  width,\n  xAxisTicks,\n  yAxisTicks\n) =>\n  horizontal\n    ? d3AxisBottom()\n        .scale(xScale)\n        .tickSize(height, 0, 0)\n        .ticks(xAxisTicks)\n        .tickFormat('')\n    : d3AxisLeft()\n        .scale(yScale)\n        .tickSize(-width, 0, 0)\n        .ticks(yAxisTicks)\n        .tickFormat('');\n","import { getMin, getMax } from './';\n\n/**\n * Find the minimum and maximum value in a given list.\n *\n * @param {Array} xs List of values.\n * @returns {Array} Minimum and maximum value in the list.\n */\nexport default xs => [getMin(xs), getMax(xs)];\n","export const white = 'rgb(255, 255, 255)'; // #FFFFFF\nexport const black = 'rgb(33, 33, 33)'; // #212121\nexport const grey = 'rgb(232, 232, 232)'; // #E8E8E8\nexport const tooltipBackground = 'rgba(0, 0, 0, 0.85)';\n\nexport const themes = {\n  monteCarlo: [\n    'rgb(8,104,172)',\n    'rgb(67,162,202)',\n    'rgb(123,204,196)',\n    'rgb(186,228,188)',\n    'rgb(240,249,232)',\n  ],\n  vividCerise: [\n    'rgb(152,0,67)',\n    'rgb(221,28,119)',\n    'rgb(223,101,176)',\n    'rgb(215,181,216)',\n    'rgb(241,238,246)',\n  ],\n  sundown: [\n    'rgb(122,1,119)',\n    'rgb(197,27,138)',\n    'rgb(247,104,161)',\n    'rgb(251,180,185)',\n    'rgb(254,235,226)',\n  ],\n  madang: [\n    'rgb(0,104,55)',\n    'rgb(49,163,84)',\n    'rgb(120,198,121)',\n    'rgb(194,230,153)',\n    'rgb(255,255,204)',\n  ],\n  curiousBlue: [\n    'rgb(37,52,148)',\n    'rgb(44,127,184)',\n    'rgb(65,182,196)',\n    'rgb(161,218,180)',\n    'rgb(255,255,204)',\n  ],\n};\n\nexport default {\n  white,\n  black,\n  grey,\n  themes,\n};\n","import head from 'ramda/src/head';\nimport { themes } from './palette';\n\n/**\n * Use the first color in the color theme list to use it as base color.\n *\n * @param {Array} theme Color theme list\n * @returns {String} Color\n */\nexport default theme => head(themes[theme]);\n","/**\n * You can generate a different color shade passing a second argument with the\n * amount to apply in order to make it darker or lighter.\n *\n * @param {String} rgb RGB color.\n * @param {Number} amt Amount to apply in order to make it darker or lighter.\n * @returns {String} RGB color.\n */\nexport default (rgb = 'rgb(0, 0, 0)', amt = -20) =>\n  `rgb(${rgb\n    .split(/\\D/)\n    .filter(x => x)\n    .map(x => {\n      let val = parseInt(x) + amt;\n      if (val > 255) {\n        val = 255;\n      } else if (val < 0) {\n        val = 0;\n      }\n      return val;\n    })\n    .join(', ')})`;\n","let innerId = 0;\n\n/**\n * Creates a unique ID for each chart of the same type rendered.\n *\n * @param {String} prefix Chart name.\n * @returns {String} ID\n */\nexport default prefix => {\n  if (!prefix) {\n    return null;\n  }\n\n  const id = `silky-charts_${prefix}-${innerId}`;\n  innerId += 1;\n  return id;\n};\n","/**\n * Filter the data for the series selected to be represented as lines in the\n * chart.\n *\n * @param {Array} series List of series to filter form the chart data.\n * @param {Array} data Chart data list.\n * @returns {Array} Data to use as lines in the chart.\n */\nexport default (series, data) =>\n  series.map(x => data.filter(datum => datum.series === x));\n","import max from 'ramda/src/max';\n\nexport default xs => xs.reduce(max);\n","import min from 'ramda/src/min';\n\nexport default xs => xs.reduce(min);\n","export default (svg, { clientX, clientY }) => {\n  const point = svg.createSVGPoint();\n  point.x = clientX;\n  point.y = clientY;\n  const { x, y } = point.matrixTransform(svg.getScreenCTM().inverse());\n  return [x, y];\n};\n","import find from 'ramda/src/find';\n\nexport default (axis, margin, positions) => {\n  const mouseAxis = axis - margin;\n  const epsilon = (positions[1] - positions[0]) / 2;\n  return find(x => Math.abs(x - mouseAxis) <= epsilon, positions);\n};\n","import compose from 'ramda/src/compose';\nimport identity from 'ramda/src/identity';\nimport filter from 'ramda/src/filter';\nimport sum from 'ramda/src/sum';\nimport map from 'ramda/src/map';\nimport reduce from 'ramda/src/reduce';\nimport values from 'ramda/src/values';\n\nconst reducer = (a, { name, value }) => {\n  a[name] = a[name] ? [...a[name], value] : [value];\n  return a;\n};\n\n/**\n * Using an optional list of series names calculate the largest possible values\n * adding the values for the series names provided plus the rest of the values\n * present in the data\n *\n * @param {Array} data Chart data\n * @param {Array} seriesList List of series names whose values will be added to\n * calculate the largest possible value\n * @returns {Array} List of calculated values\n */\nexport default (data, seriesList = []) =>\n  compose(\n    map(sum),\n    values,\n    reduce(reducer, {}),\n    seriesList.length\n      ? filter(({ series }) => seriesList.includes(series))\n      : identity\n  )(data);\n","import compose from 'ramda/src/compose';\nimport map from 'ramda/src/map';\nimport prop from 'ramda/src/prop';\nimport uniq from 'ramda/src/uniq';\n\n/**\n * Get the list of series in the chart data.\n *\n * @param {Array} _ Chart data.\n * @returns {Function} Ordering function that returns a list of unique series\n * names.\n */\nexport default compose(\n  uniq,\n  map(prop('series'))\n);\n","import {\n  curveBasis,\n  curveBasisClosed,\n  curveBasisOpen,\n  curveBundle,\n  curveCardinal,\n  curveCardinalClosed,\n  curveCardinalOpen,\n  curveCatmullRom,\n  curveCatmullRomClosed,\n  curveCatmullRomOpen,\n  curveLinear,\n  curveLinearClosed,\n  curveMonotoneX,\n  curveMonotoneY,\n  curveNatural,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore,\n} from 'd3-shape';\n\n// Base values\nexport const ASPECT_RATIO = '16:9';\nexport const MARGIN = { top: 40, right: 50, bottom: 50, left: 50 };\nexport const ROTATION = -50;\nexport const SIZE = {\n  width: 0,\n  height: 0,\n  isSizeSet: false,\n};\nexport const X_TICKS = 10;\nexport const Y_TICKS = 5;\nexport const TIME_FORMAT = '%a %d';\nexport const TOOLTIP_DATE_FORMAT = '%b %d, %Y';\nexport const TOOLTIP_OFFSET = 20;\nexport const WIDTH = 640;\n\n// Scales\nexport const SCALE_BAND = 'band';\nexport const SCALE_LINEAR = 'linear';\nexport const SCALE_PADDING = 0.1;\nexport const SCALE_TIME = 'time';\n\n// Themes\nexport const THEME = 'monteCarlo';\nexport const SECONDARY_THEME = 'vividCerise';\n\n// Line options\nexport const LINE_STROKE_WIDTH = 3;\nexport const LINE_TYPE = 'curveLinear';\nexport const LINE_TYPES = {\n  curveBasis,\n  curveBasisClosed,\n  curveBasisOpen,\n  curveBundle,\n  curveCardinal,\n  curveCardinalClosed,\n  curveCardinalOpen,\n  curveCatmullRom,\n  curveCatmullRomClosed,\n  curveCatmullRomOpen,\n  curveLinear,\n  curveLinearClosed,\n  curveMonotoneX,\n  curveMonotoneY,\n  curveNatural,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore,\n};\n","import { WIDTH } from './constants';\n\n/**\n * Calculate the size of the chart using aspect-ratio, margins, and parent size.\n *\n * @param {Number} w1 Chart's width.\n * @param {Number} h1 Chart's height.\n * @param {Object} h1 Chart's margin.\n * @param {String} r Chart's aspect-ratio.\n * @returns {Object} Chart's width and height.\n */\nexport default (w1, h1, { top, right, bottom, left }, r) => {\n  const [r1, r2] = r.split(':');\n  const w2 = w1 || WIDTH;\n  const h2 = h1 || (w2 / r1) * r2;\n\n  if (w1 && h1) {\n    return {\n      width: w1 - left - right,\n      height: h1 - top - bottom,\n    };\n  }\n\n  const width = w1 ? w2 : (h2 / r2) * r1;\n  const height = h1 ? h2 : (w2 / r1) * r2;\n\n  return {\n    width: width - left - right,\n    height: height - top - bottom,\n  };\n};\n","import always from 'ramda/src/always';\nimport { TOOLTIP_OFFSET } from './constants';\n\n/**\n * Calculates the position of the tooltip based on the position specified in\n * the prop staticTooltip of use the default instead to position the tooltip\n * on top of the mouse cursor.\n *\n * @param {Object} node Graph's SVG node.\n * @param {Object} margin Chart's maring prop.\n * @param {Object} mousePosition PageX and PageY values returned by the\n * mouseMove event.\n * @param {Object} size Tooltip bubble width and height.\n * @param {String} position Position of the tooltip specified in the\n * staticTooltip prop.\n * @returns {Object} Object containing the top and left values to position the\n * tooltip.\n */\nexport default (\n  node,\n  margin,\n  { pageX, pageY },\n  { width, height },\n  position = 'default'\n) => {\n  const { top, right, bottom, left } = node.getBoundingClientRect();\n  const leftOffset = always(left + margin.left + TOOLTIP_OFFSET);\n  const topOffset = always(top + margin.top + TOOLTIP_OFFSET);\n  const rightOffset = always(right - width - margin.right - TOOLTIP_OFFSET);\n  const bottomOffset = always(bottom - height - margin.bottom - TOOLTIP_OFFSET);\n  const positionMap = {\n    'top-left': { left: leftOffset(), top: topOffset() },\n    'top-right': { left: rightOffset(), top: topOffset() },\n    'bottom-right': { left: rightOffset(), top: bottomOffset() },\n    'bottom-left': { left: leftOffset(), top: bottomOffset() },\n    default: {\n      left: pageX - width / 2,\n      top: pageY - height - 16,\n    },\n  };\n\n  return positionMap[position];\n};\n","import complement from 'ramda/src/complement';\nimport compose from 'ramda/src/compose';\n\nconst isNotNaN = complement(isNaN);\n\n/**\n * Validate if the string passed is a valid ISO string date.\n *\n * @param {String} _ ISO string date to validate.\n * @returns {Function} Validation function that returns true if the string is a\n * valid date.\n */\nexport default compose(\n  isNotNaN,\n  Date.parse\n);\n","import addIndex from 'ramda/src/addIndex';\nimport compose from 'ramda/src/compose';\nimport groupBy from 'ramda/src/groupBy';\nimport map from 'ramda/src/map';\nimport mergeAll from 'ramda/src/mergeAll';\nimport prop from 'ramda/src/prop';\nimport toPairs from 'ramda/src/toPairs';\n\nconst mapIndexed = addIndex(map);\n\n/**\n * Map all the series to a single name to be used by the tooltip group using the\n * name as a reference according to the mouse position.\n *\n * @param {Array} data Chart's data.\n * @param {Array} positions List of positions to map the data with.\n * @returns {Object} Mapped data.\n */\nexport default (data, positions) =>\n  compose(\n    mergeAll,\n    // eslint-disable-next-line no-unused-vars\n    mapIndexed(([_, x], idx) => ({ [positions[idx]]: x })),\n    toPairs,\n    groupBy(prop('name'))\n  )(data);\n","import { selectAll as d3SelectAll } from 'd3-selection';\n\n/**\n * Rotate the X axis labels to a given degrees.\n *\n * @param {String} id Unique chart ID.\n * @param {Number} deg Degrees to rotate.\n * @returns {Void}\n */\nexport default (id, deg) => {\n  const isNegative = deg < 0;\n  d3SelectAll(`#${id} .axis-x .tick text`)\n    .attr('text-anchor', isNegative ? 'end' : 'start')\n    .attr('transform', `translate(${isNegative ? -12 : 12}, 6) rotate(${deg})`);\n};\n","import cond from 'ramda/src/cond';\nimport equals from 'ramda/src/equals';\nimport T from 'ramda/src/T';\nimport { LINE_TYPES } from './constants';\n\n/**\n * Apply the option to the corresponding line type if exist.\n *\n * @param {String} type Line type.\n * @param {Number} option Option value.\n * @returns {Function} Line type setter.\n */\nexport default (type, option = null) =>\n  cond([\n    [equals('curveBundle'), () => LINE_TYPES[type].beta(option)],\n    [equals('curveCardinalOpen'), () => LINE_TYPES[type].tension(option)],\n    [equals('curveCatmullRomOpen'), () => LINE_TYPES[type].alpha(option)],\n    [T, () => LINE_TYPES[type]],\n  ])(type);\n","import uniq from 'ramda/src/uniq';\nimport { isValidDate } from './';\n\n/**\n * Validates if the values in the data's name fields are valid dates and if is\n * the case transform this dates into instances of Date before returning a tuple\n * with the validation result, the new data list, and the unique list of names.\n *\n * @param {Array} dataset Chart's data.\n * @returns {Array} Tupple containing the dates validation result, the\n * transformed new data list, and an array with the unique list of names.\n */\nexport default dataset => {\n  const isDates = isValidDate(dataset[0].name);\n  const names = uniq(dataset.map(({ name }) => name));\n\n  return [\n    isDates,\n    isDates ? dataset.map(x => ({ ...x, name: new Date(x.name) })) : dataset,\n    isDates ? names.map(x => new Date(x)) : names,\n  ];\n};\n","import compose from 'ramda/src/compose';\nimport map from 'ramda/src/map';\nimport mergeAll from 'ramda/src/mergeAll';\nimport prop from 'ramda/src/prop';\nimport sortBy from 'ramda/src/sortBy';\nimport splitEvery from 'ramda/src/splitEvery';\nimport { getSeries } from './';\n\n/**\n * Transforms a given data list to be consumed by the D3 stack function.\n *\n * @param {Array} data Chart's data list.\n * @returns {Array} Stacked formatted chart's data.\n */\nexport default data =>\n  compose(\n    map(mergeAll),\n    splitEvery(getSeries(data).length),\n    map(({ name, series, value }) => ({ name, [series]: value })),\n    sortBy(prop('name'))\n  )(data);\n","import React, { useContext, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { GraphContext } from '../contexts';\nimport { Path, Tooltip, TooltipGroup } from './';\nimport { classify, getMousePosition, getNearestPoint } from '../utils';\n\nconst AreaDatum = ({\n  area,\n  dataPositions,\n  datum,\n  fillColor,\n  onClick,\n  onMouseEnter,\n  onMouseLeave,\n  series,\n  theme,\n  tooltip: withTooltip,\n  tooltipData,\n}) => {\n  const { margin, node } = useContext(GraphContext);\n  const [tooltip, setTooltip] = useState({\n    pageX: null,\n    pageY: null,\n    show: false,\n  });\n  const [nearestPoint, setNearestPoint] = useState(0);\n  const [currentTooltipData, setCurrentTooltipData] = useState(\n    tooltipData['0']\n  );\n\n  const handleMouseMove = nearest => {\n    setNearestPoint(nearest);\n    setCurrentTooltipData(tooltipData[nearest]);\n  };\n\n  return (\n    <>\n      <g className={`${classify(series)}-layer`}>\n        <Path\n          chart=\"stacked-area\"\n          fillColor={fillColor}\n          d={area(datum)}\n          strokeWidth={0}\n          onClick={onClick}\n          onMouseEnter={event => {\n            const { pageX, pageY } = event;\n            setTooltip(state => ({ ...state, pageX, pageY, show: true }));\n            onMouseEnter(event);\n          }}\n          onMouseLeave={event => {\n            setTooltip(state => ({ ...state, show: false }));\n            onMouseLeave(event);\n          }}\n          onMouseMove={event => {\n            const { pageX, pageY } = event;\n            const [x] = getMousePosition(node, event);\n            const nearest = getNearestPoint(x, margin.left, dataPositions);\n            setTooltip(state => ({ ...state, pageX, pageY }));\n            if (nearest !== nearestPoint && tooltipData[nearest]) {\n              handleMouseMove(nearest);\n            }\n          }}\n        />\n      </g>\n      {withTooltip &&\n        tooltip.show &&\n        createPortal(\n          <Tooltip mousePosition={tooltip}>\n            <TooltipGroup theme={theme} data={currentTooltipData} />\n          </Tooltip>,\n          document.body\n        )}\n    </>\n  );\n};\n\nexport default AreaDatum;\n","import styled from 'styled-components';\n\nconst Axis = styled.g.attrs(({ axis, position }) => ({\n  className: `axis-${axis}`,\n  transform: position && `translate(${position.x}, ${position.y})`,\n}))``;\n\nexport default Axis;\n","import React, { Fragment, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Rect, Tooltip, TooltipItem } from './';\n\nconst BarDatum = ({\n  color,\n  datum,\n  height,\n  onClick,\n  onMouseEnter,\n  onMouseLeave,\n  tooltip: withTooltip,\n  width,\n  x,\n  y,\n}) => {\n  const [tooltip, setTooltip] = useState({\n    pageX: null,\n    pageY: null,\n    show: false,\n  });\n\n  return (\n    <Fragment>\n      <Rect\n        chart=\"bar\"\n        fillColor={color}\n        onClick={onClick}\n        onMouseEnter={event => {\n          setTooltip(state => ({ ...state, show: true }));\n          onMouseEnter(event);\n        }}\n        onMouseLeave={event => {\n          setTooltip(state => ({ ...state, show: false }));\n          onMouseLeave(event);\n        }}\n        onMouseMove={event => {\n          event.persist();\n          const { pageX, pageY } = event;\n          setTooltip(state => ({ ...state, pageX, pageY }));\n        }}\n        position={{ x, y }}\n        size={{ width, height }}\n      />\n      {withTooltip &&\n        tooltip.show &&\n        createPortal(\n          <Tooltip mousePosition={tooltip}>\n            <TooltipItem color={color} {...datum} />\n          </Tooltip>,\n          document.body\n        )}\n    </Fragment>\n  );\n};\n\nexport default BarDatum;\n","import styled from 'styled-components';\n\nconst Circle = styled.circle.attrs(({ chart }) => ({ className: chart }))`\n  fill: ${({ color }) => color};\n`;\n\nexport default Circle;\n","import styled from 'styled-components';\n\nconst DataGroup = styled.g.attrs({\n  className: 'dataviz-layer',\n})``;\n\nexport default DataGroup;\n","import styled from 'styled-components';\nimport { palette } from '../utils';\n\nconst Grid = styled.g.attrs(() => ({\n  className: 'grid',\n}))`\n  path {\n    stroke: transparent;\n  }\n\n  line {\n    stroke: ${palette.grey};\n  }\n`;\n\nexport default Grid;\n","import styled from 'styled-components';\n\nconst Label = styled.text.attrs(({ axis, margin, width, height }) => ({\n  className: `${axis}-axis-label`,\n  x: axis === 'x' ? width / 2 : 0 - height / 2,\n  y: axis === 'x' ? height + margin.bottom - 30 : 34 - margin.left,\n}))`\n  font-size: 0.9em;\n  text-anchor: middle;\n  transform: ${({ axis }) => axis === 'y' && 'rotate(-90deg)'};\n`;\n\nexport default Label;\n","import React, { Fragment, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { Circle, Path, Tooltip, TooltipItem } from './';\n\nconst LineDatum = ({\n  chart,\n  color,\n  d,\n  data,\n  onClick,\n  onMouseEnter,\n  onMouseLeave,\n  tooltip: withTooltip,\n  xScale,\n  yScale,\n}) => {\n  const [tooltip, setTooltip] = useState({\n    pageX: null,\n    pageY: null,\n    show: false,\n  });\n\n  return (\n    <Fragment>\n      <Path chart={chart} d={d} strokeColor={color} />\n      <g className=\"line-dot-group\">\n        {data.map(({ name, value }, idx) => (\n          <Circle\n            key={idx}\n            chart={chart}\n            color={color}\n            cx={xScale(name) + xScale.bandwidth() / 2}\n            cy={yScale(value)}\n            r={6}\n            onClick={onClick}\n            onMouseEnter={event => {\n              setTooltip(state => ({ ...state, show: true }));\n              onMouseEnter(event);\n            }}\n            onMouseLeave={event => {\n              setTooltip(state => ({ ...state, show: false }));\n              onMouseLeave(event);\n            }}\n            onMouseMove={event => {\n              const { pageX, pageY } = event;\n              setTooltip(state => ({ ...state, name, pageX, pageY, value }));\n            }}\n          />\n        ))}\n      </g>\n      {withTooltip &&\n        tooltip.show &&\n        createPortal(\n          <Tooltip mousePosition={tooltip}>\n            <TooltipItem\n              color={color}\n              name={tooltip.name}\n              value={tooltip.value}\n            />\n          </Tooltip>,\n          document.body\n        )}\n    </Fragment>\n  );\n};\n\nexport default LineDatum;\n","import styled from 'styled-components';\n\nconst MainGroup = styled.g.attrs(({ margin: { left, top } }) => ({\n  className: 'silky-charts-container',\n  transform: `translate(${left}, ${top})`,\n}))``;\n\nexport default MainGroup;\n","import styled from 'styled-components';\nimport { getHoverColor } from '../utils';\nimport { LINE_STROKE_WIDTH } from '../utils/constants';\n\nconst Path = styled.path.attrs(({ chart }) => ({\n  className: `line-path ${chart}`,\n}))`\n  fill: ${({ fillColor }) => fillColor || 'none'};\n  stroke: ${({ strokeColor }) => strokeColor || 'none'};\n  stroke-width: ${LINE_STROKE_WIDTH};\n  pointer-events: ${({ chart }) => chart === 'bar-line' && 'none'}\n\n  &:hover {\n    fill: ${({ chart, fillColor }) =>\n      chart === 'stacked-area' && getHoverColor(fillColor)};\n  }\n`;\n\nexport default Path;\n","import styled from 'styled-components';\nimport { getHoverColor } from '../utils';\n\nconst Rect = styled.rect.attrs(\n  ({ chart, position: { x, y }, size: { height, width } }) => ({\n    className: chart,\n    height,\n    width,\n    x,\n    y,\n  })\n)`\n  fill: ${({ fillColor }) => fillColor};\n\n  &:hover {\n    fill: ${({ fillColor }) => getHoverColor(fillColor)};\n  }\n`;\n\nexport default Rect;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Link = styled.a.attrs(({ href, target, title }) => ({\n  className: `data-source-link`,\n  href,\n  target,\n  title,\n}))`\n  text-decoration: underline;\n`;\n\nconst Text = styled.text.attrs(({ height, margin, width }) => ({\n  className: `data-source`,\n  x: width,\n  y: height + margin.bottom - 50,\n}))`\n  font-size: 0.7em;\n  font-style: italic;\n  text-anchor: end;\n`;\n\nconst DataSource = ({ dataSource, height, margin, width }) =>\n  typeof dataSource === 'string' ? (\n    <Text height={height} margin={margin} width={width}>\n      {dataSource}\n    </Text>\n  ) : (\n    <Link {...dataSource}>\n      <Text height={height} margin={margin} width={width}>\n        {dataSource.text}\n      </Text>\n    </Link>\n  );\n\nexport default DataSource;\n","import React from 'react';\nimport head from 'ramda/src/head';\nimport last from 'ramda/src/last';\nimport BarDatum from './BarDatum';\nimport { palette } from '../utils';\n\nconst StackedBarDatum = ({\n  height,\n  onClick,\n  onMouseEnter,\n  onMouseLeave,\n  series,\n  theme,\n  tooltip,\n  x,\n  y,\n}) =>\n  series.map(layer => (\n    <g key={layer.index} className={`${layer.key}-layer`}>\n      {layer.map((datum, idx) => {\n        const value = last(datum) - head(datum);\n        const name = datum.data.name;\n\n        return (\n          <BarDatum\n            key={idx}\n            color={palette.themes[theme][layer.index]}\n            datum={{ name, value }}\n            height={height - y(value)}\n            onClick={onClick}\n            onMouseEnter={onMouseEnter}\n            onMouseLeave={onMouseLeave}\n            tooltip={tooltip}\n            width={x.bandwidth()}\n            x={x(name)}\n            y={y(last(datum))}\n          />\n        );\n      })}\n    </g>\n  ));\n\nexport default StackedBarDatum;\n","import styled from 'styled-components';\n\nconst SVG = styled.svg.attrs(({ identifier }) => ({\n  id: identifier,\n  className: 'silky-charts',\n  baseProfile: 'full',\n  xmlns: 'http://www.w3.org/2000/svg',\n}))`\n  height: ${({ size }) => size.height}px;\n  width: ${({ size }) => size.width}px;\n`;\n\nexport default SVG;\n","import styled from 'styled-components';\n\nconst Title = styled.text.attrs(({ margin, width }) => ({\n  className: `chart-title`,\n  x: width / 2,\n  y: 50 - margin.top,\n}))`\n  font-size: 1.2em;\n  text-anchor: middle;\n`;\n\nexport default Title;\n","import React, { useContext, useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport { GraphContext } from '../contexts';\nimport { tooltipBackground } from '../utils/palette';\nimport getTooltipPosition from '../utils/getTooltipPosition';\n\nconst TooltipBubble = styled.div.attrs(({ position }) => ({\n  className: 'silky-charts-tooltip',\n  style: position,\n}))`\n  background-color: ${tooltipBackground};\n  border-radius: 4px;\n  padding: 10px;\n  pointer-events: none;\n  position: absolute;\n  text-align: center;\n  left: 0;\n  top: 0;\n  z-index: 1;\n\n  &:before {\n    content: '';\n    display: ${({ staticTooltip }) => (staticTooltip ? 'none' : 'block')};\n    width: 0;\n    height: 0;\n    position: absolute;\n    border-left: 8px solid transparent;\n    border-top: 8px solid ${tooltipBackground};\n    border-right: 8px solid transparent;\n    left: ${({ width }) => width / 2 - 8}px;\n    top: ${({ height }) => height}px;\n  }\n`;\n\nconst Tooltip = ({ children, mousePosition }) => {\n  const tooltipRef = useRef();\n  const { margin, node, staticTooltip } = useContext(GraphContext);\n  const [size, setSize] = useState({ width: 0, height: 0 });\n  const position = getTooltipPosition(\n    node,\n    margin,\n    mousePosition,\n    size,\n    staticTooltip\n  );\n\n  useEffect(() => {\n    const { offsetWidth, offsetHeight } = tooltipRef.current;\n    setSize({ width: offsetWidth, height: offsetHeight });\n  }, [tooltipRef, setSize]);\n\n  return (\n    <TooltipBubble\n      ref={tooltipRef}\n      position={position}\n      staticTooltip={staticTooltip}\n      {...size}\n    >\n      {children}\n    </TooltipBubble>\n  );\n};\n\nexport default Tooltip;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { timeFormat as d3TimeFormat } from 'd3-time-format';\nimport { isValidDate } from '../utils';\nimport { grey, themes, white } from '../utils/palette';\nimport { TOOLTIP_DATE_FORMAT } from '../utils/constants';\n\nconst Container = styled.div`\n  display: flex;\n  &:not(:last-child) {\n    margin-bottom: 6px;\n  }\n`;\n\nconst Swatch = styled.span`\n  background-color: ${({ swatchColor }) => swatchColor || grey};\n  margin-right: ${({ marginRight }) => marginRight}px;\n  padding: 0 ${({ width }) => width / 2}px;\n`;\n\nconst Name = styled.div`\n  color: grey;\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 10px;\n  text-align: right;\n`;\n\nconst Data = styled.div`\n  color: ${white};\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 2px;\n`;\n\nconst Divider = styled.span`\n  color: grey;\n  font-weight: 500;\n`;\n\nconst TooltipGroup = ({\n  data,\n  dateFormat = TOOLTIP_DATE_FORMAT,\n  theme = 'monteCarlo',\n}) => {\n  const timeFormat = d3TimeFormat(dateFormat);\n  const { name } = data[0];\n\n  return (\n    <>\n      <Name>{isValidDate(name) ? timeFormat(name) : name}</Name>\n      {data.map(({ series, value }, idx) => (\n        <Container key={idx}>\n          <Swatch swatchColor={themes[theme][idx]} width={6} marginRight={2} />\n          <Swatch swatchColor={themes[theme][idx]} width={2} marginRight={10} />\n          <Data>\n            {value} <Divider>on</Divider> {series}\n          </Data>\n        </Container>\n      ))}\n    </>\n  );\n};\n\nexport default TooltipGroup;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { timeFormat as d3TimeFormat } from 'd3-time-format';\nimport { isValidDate } from '../utils';\nimport { grey, white } from '../utils/palette';\nimport { TOOLTIP_DATE_FORMAT } from '../utils/constants';\n\nconst Swatch = styled.span`\n  background-color: ${({ swatchColor }) => swatchColor || grey};\n  display: block;\n  height: 2px;\n`;\n\nconst Data = styled.div`\n  color: ${white};\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 4px;\n`;\n\nconst Divider = styled.span`\n  color: grey;\n  font-weight: 500;\n`;\n\nconst TooltipItem = ({\n  color,\n  dateFormat = TOOLTIP_DATE_FORMAT,\n  name,\n  value,\n}) => {\n  const timeFormat = d3TimeFormat(dateFormat);\n  return (\n    <>\n      <Data>\n        {value} <Divider>on</Divider>{' '}\n        {isValidDate(name) ? timeFormat(name) : name}\n      </Data>\n      <Swatch swatchColor={color} />\n    </>\n  );\n};\n\nexport default TooltipItem;\n","import { useCallback, useEffect, useRef } from 'react';\n\nexport default (callback, delay, deps) => {\n  let { current } = useRef(null);\n  const debouncedFunction = useCallback(callback, deps);\n\n  useEffect(\n    () => () => {\n      clearTimeout(current);\n    },\n    [current]\n  );\n\n  return (...args) => {\n    clearTimeout(current);\n    current = setTimeout(() => debouncedFunction(...args), delay);\n  };\n};\n","import { useEffect, useRef } from 'react';\nimport useDebounce from './useDebounce';\n\nexport default (responsive, handleSize) => {\n  const refSize = useRef(handleSize);\n  const handleResize = useDebounce(handleSize, 250, [handleSize]);\n\n  useEffect(() => refSize.current(), [refSize]);\n\n  useEffect(() => {\n    responsive && window.addEventListener('resize', handleResize);\n\n    return () => {\n      responsive && window.removeEventListener('resize', handleResize);\n    };\n  }, [handleResize, responsive]);\n};\n"],"names":["createContext","idx","stack","data","forEach","values","datum","key","series","stackedValues","d3Stack","keys","order","stackOrderNone","offset","stackOffsetNone","compose","toPairs","groupBy","prop","replace","toLowerCase","horizontal","xScale","height","yScale","width","xAxisTicks","yAxisTicks","d3AxisBottom","scale","tickSize","ticks","tickFormat","d3AxisLeft","xs","getMin","getMax","white","black","grey","tooltipBackground","themes","monteCarlo","vividCerise","sundown","madang","curiousBlue","theme","head","rgb","amt","split","filter","x","map","val","parseInt","join","innerId","prefix","id","reduce","max","min","svg","clientX","clientY","point","createSVGPoint","y","matrixTransform","getScreenCTM","inverse","axis","margin","positions","mouseAxis","epsilon","find","Math","abs","reducer","a","name","value","seriesList","sum","length","includes","identity","uniq","ASPECT_RATIO","MARGIN","top","right","bottom","left","ROTATION","SIZE","isSizeSet","X_TICKS","Y_TICKS","TIME_FORMAT","TOOLTIP_DATE_FORMAT","TOOLTIP_OFFSET","WIDTH","SCALE_PADDING","THEME","SECONDARY_THEME","LINE_STROKE_WIDTH","LINE_TYPE","LINE_TYPES","curveBasis","curveBasisClosed","curveBasisOpen","curveBundle","curveCardinal","curveCardinalClosed","curveCardinalOpen","curveCatmullRom","curveCatmullRomClosed","curveCatmullRomOpen","curveLinear","curveLinearClosed","curveMonotoneX","curveMonotoneY","curveNatural","curveStep","curveStepAfter","curveStepBefore","w1","h1","r","r1","r2","w2","h2","node","pageX","pageY","position","getBoundingClientRect","leftOffset","always","topOffset","rightOffset","bottomOffset","positionMap","default","isNotNaN","complement","isNaN","Date","parse","mapIndexed","addIndex","mergeAll","_","deg","isNegative","d3SelectAll","attr","type","option","cond","equals","beta","tension","alpha","T","dataset","isDates","isValidDate","names","splitEvery","getSeries","sortBy","AreaDatum","area","dataPositions","fillColor","onClick","onMouseEnter","onMouseLeave","withTooltip","tooltip","tooltipData","useContext","GraphContext","useState","show","setTooltip","nearestPoint","setNearestPoint","currentTooltipData","setCurrentTooltipData","handleMouseMove","nearest","classify","event","state","getMousePosition","getNearestPoint","createPortal","document","body","Axis","styled","g","attrs","className","transform","BarDatum","color","persist","Circle","circle","chart","DataGroup","Grid","palette","Label","text","LineDatum","d","bandwidth","MainGroup","Path","path","strokeColor","getHoverColor","Rect","rect","size","Link","href","target","title","Text","DataSource","dataSource","StackedBarDatum","layer","index","last","SVG","identifier","baseProfile","xmlns","Title","TooltipBubble","div","style","staticTooltip","Tooltip","children","mousePosition","tooltipRef","useRef","setSize","getTooltipPosition","useEffect","current","offsetWidth","offsetHeight","Container","Swatch","span","swatchColor","marginRight","Name","Data","Divider","TooltipGroup","dateFormat","timeFormat","d3TimeFormat","TooltipItem","callback","delay","deps","debouncedFunction","useCallback","clearTimeout","args","setTimeout","responsive","handleSize","refSize","handleResize","useDebounce","window","addEventListener","removeEventListener"],"mappings":"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"}