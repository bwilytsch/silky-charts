"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var __chunk_1=require("./chunk-996be02a.js"),React=require("react"),React__default=_interopDefault(React);require("styled-components"),require("react-dom");var BarLine=function(e){var t=e.aspectRatio,_=void 0===t?__chunk_1.ASPECT_RATIO:t,n=e.data,a=e.grid,c=e.height,i=void 0===c?void 0:c,u=e.isHorizontal,r=e.lineSeries,o=void 0===r?[]:r,h=e.lineType,s=void 0===h?__chunk_1.LINE_TYPE:h,l=e.lineTypeOption,d=void 0===l?null:l,k=e.margin,f=void 0===k?__chunk_1.MARGIN:k,m=e.onClick,v=void 0===m?__chunk_1.identity:m,E=e.onMouseEnter,S=void 0===E?__chunk_1.identity:E,R=e.onMouseLeave,x=void 0===R?__chunk_1.identity:R,L=e.responsive,g=void 0!==L&&L,y=e.secondaryTheme,p=void 0===y?__chunk_1.SECONDARY_THEME:y,A=e.stackedSeries,b=void 0===A?[]:A,T=e.theme,M=void 0===T?__chunk_1.THEME:T,w=e.ticks,D=void 0===w?__chunk_1.TICKS:w,z=e.width,C=void 0===z?void 0:z,I=e.xAxisLabel,N=e.xAxisLabelRotation,B=e.xAxisLabelRotationValue,O=void 0===B?__chunk_1.ROTATION:B,j=e.yAxisLabel,q=React.useRef(),G=React.useState(__chunk_1.getId("bar-line")),H=__chunk_1._slicedToArray(G,1)[0],P=React.useState(__chunk_1.SIZE),X=__chunk_1._slicedToArray(P,2),Y=X[0],F=Y.width,V=Y.height,K=Y.isSizeSet,W=X[1],Z=React.useMemo(function(){return __chunk_1.setupData(n)},n),J=__chunk_1._slicedToArray(Z,2),Q=J[0],U=J[1],$=React.useMemo(function(){return __chunk_1.buildStack(b)(__chunk_1.toStackedForm(U))},U),ee=__chunk_1.getXScale(Q?__chunk_1.SCALE_TIME:__chunk_1.SCALE_BAND,U,F,!0),te=__chunk_1.getYScale(__chunk_1.SCALE_LINEAR,__chunk_1.getMax(__chunk_1.getStackedMax(U,b)),V),_e=__chunk_1.line().curve(__chunk_1.setLineType(s,d)).x(function(e){var t=e.name;return Q?ee(t):ee(t)+ee.bandwidth()/2}).y(function(e){var t=e.value;return te(t)}),ne=__chunk_1.getLineDataForSeries(o,U),ae=function(){var e=q.current.parentElement.offsetWidth;!C&&!i||K?e!==C-(f.left+f.right)&&W(__chunk_1._objectSpread({},__chunk_1.getSize(e,void 0,f,_),{isSizeSet:!0})):W(__chunk_1._objectSpread({},__chunk_1.getSize(C,i,f,_),{isSizeSet:!0}))},ce=__chunk_1.debounce(ae)();return React.useEffect(function(){return ae(),g&&window.addEventListener("resize",ce),function(){g&&window.removeEventListener("resize",ce)}},[]),React__default.createElement(__chunk_1.SVG,{identifier:H,size:{width:C||F+f.left+f.right,height:i||V+f.top+f.bottom},ref:q},React__default.createElement("g",{className:"silky-charts-container",transform:"translate(".concat(f.left,", ").concat(f.top,")")},a&&React__default.createElement(__chunk_1.Grid,{ref:function(e){return __chunk_1.select(e).call(__chunk_1.drawGrid(u,ee,V,te,F,D))}}),I&&React__default.createElement(__chunk_1.Label,{axis:"x",margin:f,width:F,height:V},I),j&&React__default.createElement(__chunk_1.Label,{axis:"y",margin:f,width:F,height:V},j),React__default.createElement(__chunk_1.StackedBarDatum,{data:U,series:$,isDates:Q,theme:M,x:ee,y:te,width:F,height:V,onClick:v,onMouseEnter:S,onMouseLeave:x}),React__default.createElement(__chunk_1.Axis,{axis:"x",position:{x:0,y:V},ref:function(e){__chunk_1.select(e).call(__chunk_1.axisBottom(ee)),Q&&__chunk_1.extendXPath(H,F),N&&__chunk_1.rotateXLabels(H,O)}}),React__default.createElement(__chunk_1.Axis,{axis:"y",ref:function(e){return __chunk_1.select(e).call(__chunk_1.axisLeft(te).ticks(D))}}),ne.map(function(e,t){return React__default.createElement("g",{className:"".concat(__chunk_1.head(e).series,"-layer"),key:t},React__default.createElement(__chunk_1.LineDatum,{chart:"bar-line",data:e,isDates:Q,color:__chunk_1.palette.themes[p].base[t],d:_e(e),xScale:ee,yScale:te,onClick:v,onMouseEnter:S,onMouseLeave:x}))})))};module.exports=BarLine;
//# sourceMappingURL=BarLine.js.map
